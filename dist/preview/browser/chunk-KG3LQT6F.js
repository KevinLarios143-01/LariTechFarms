import{a as pe,b as y,c as ue,d as ge,e as _,f as ve,g as M,h as F}from"./chunk-WY3U6KGQ.js";import"./chunk-AWQOY3RZ.js";import{a as ce}from"./chunk-RMFU254C.js";import{$ as de,K as re,L as ne,M as oe,N as ae,O as se,Q as le,R as me,c as J,e as C,g as K,h as Q,m as X,o as Y,p as Z,s as $,t as ee,u as te,v as ie}from"./chunk-FSAGASEV.js";import{$b as O,Cb as x,Fa as R,Fc as G,Ib as h,Kb as p,Qa as s,Ra as u,Ub as A,Vb as r,Wa as T,Xb as N,Zb as D,_b as j,ac as B,bc as q,db as S,dd as W,ea as V,id as U,jb as d,jd as z,la as P,lb as w,md as H,ob as E,rb as I,ua as g,va as v,wb as e,xb as t,yb as n}from"./chunk-LRQ5P2FH.js";import"./chunk-REZWHGN7.js";var L=(()=>{let l=class l{constructor(){y.initializeApp(pe.firebase)}getFirestore(){return M}getDatabase(){return F}getAuth(){return ue}};l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=V({token:l,factory:l.\u0275fac,providedIn:"root"});let a=l;return a})();function we(a,l){if(a&1&&(e(0,"p",19),r(1),t()),a&2){let i=p(2);s(),N(" ",i.errorMessage,"")}}function Ee(a,l){if(a&1&&(e(0,"p",19),r(1),t()),a&2){let i=p(2);s(),N(" ",i._error.message," ")}}function Ce(a,l){if(a&1){let i=x();e(0,"div",15)(1,"h2",16),r(2,"Login"),t(),e(3,"p",17),r(4,"Sign In to your account"),t()(),e(5,"form",18),h("ngSubmit",function(){g(i);let o=p();return v(o.login())}),S(6,we,2,1,"p",19)(7,Ee,2,1,"p",19),e(8,"div",20)(9,"label",21),r(10,"Usuario"),t(),e(11,"div",22)(12,"div",23)(13,"a",24),n(14,"i",25),t(),n(15,"input",26),t()()(),e(16,"div",20)(17,"label",21),r(18,"Contrase\xF1a"),t(),e(19,"div",22)(20,"div",23)(21,"span",27),h("click",function(){g(i);let o=p();return v(o.togglePassword())}),n(22,"i"),t(),n(23,"input",28),t()()(),e(24,"div",29),n(25,"input",30),e(26,"label",31),r(27," Remember me"),t()(),e(28,"div",32)(29,"button",33),r(30,"Login"),t()(),e(31,"div",34)(32,"p",16)(33,"a",35),r(34,"Forgot Password"),t()(),e(35,"p",36),r(36,"Don't have account?"),e(37,"a",37),r(38,"Register"),t()()()(),e(39,"div",38)(40,"div",39)(41,"span",40),n(42,"i",41),t(),e(43,"span",40),n(44,"i",42),t(),e(45,"span",43),n(46,"i",44),t()()()}if(a&2){let i=p();s(5),d("formGroup",i.loginForm),s(),I(i.errorMessage.length>0?6:-1),s(),I(i._error.message.length>0?7:-1),s(8),d("ngModel",i.email),s(7),E("fe fe-",i.toggleClass," align-middle"),s(),d("ngModel",i.password)("type",i.showPassword?"text":"password"),s(6),w("loader--text",i.authservice.showLoader),d("disabled",!i.loginForm.valid||i.authservice.showLoader)}}function ye(a,l){if(a&1){let i=x();e(0,"div",15)(1,"h2",16),r(2,"Login"),t(),e(3,"p",17),r(4,"Sign In to your account"),t()(),e(5,"form",18),h("ngSubmit",function(){g(i);let o=p();return v(o.Submit())}),e(6,"div",20)(7,"label",21),r(8,"Usuario"),t(),e(9,"div",22)(10,"div",23)(11,"a",24),n(12,"i",25),t(),n(13,"input",26),t()()(),e(14,"div",20)(15,"label",21),r(16,"Contrase\xF1a"),t(),e(17,"div",22)(18,"div",23)(19,"span",27),h("click",function(){g(i);let o=p();return v(o.togglePassword())}),n(20,"i"),t(),n(21,"input",28),t()()(),e(22,"div",29),n(23,"input",30),e(24,"label",31),r(25," Remember me"),t()(),e(26,"div",32)(27,"button",33),r(28,"Login"),t()(),e(29,"div",34)(30,"p",16)(31,"a",35),r(32,"Forgot Password"),t()(),e(33,"p",36),r(34,"Don't have account?"),e(35,"a",37),r(36,"Register"),t()()()(),e(37,"div",38)(38,"div",39)(39,"span",40),n(40,"i",41),t(),e(41,"span",40),n(42,"i",42),t(),e(43,"span",43),n(44,"i",44),t()()()}if(a&2){let i=p();s(5),d("formGroup",i.loginForm),s(8),d("ngModel",i.email),s(7),E("fe fe-",i.toggleClass," align-middle"),s(),d("ngModel",i.password)("type",i.showPassword?"text":"password"),s(6),w("loader--text",i.authservice.showLoader),d("disabled",!i.loginForm.valid||i.authservice.showLoader)}}function Me(a,l){if(a&1){let i=x();e(0,"div",15)(1,"h2",16),r(2,"Login"),t(),e(3,"p",17),r(4,"Sign In to your account"),t()(),e(5,"form",18),h("ngSubmit",function(){g(i);let o=p();return v(o.Submit())}),e(6,"div",20)(7,"label",21),r(8,"Usuario"),t(),e(9,"div",22)(10,"div",23)(11,"a",24),n(12,"i",25),t(),n(13,"input",45),t()()(),e(14,"div",20)(15,"label",21),r(16,"Contrase\xF1a"),t(),e(17,"div",22)(18,"div",23)(19,"span",27),h("click",function(){g(i);let o=p();return v(o.togglePassword())}),n(20,"i"),t(),n(21,"input",28),t()()(),e(22,"div",29),n(23,"input",30),e(24,"label",31),r(25," Remember me"),t()(),e(26,"div",32)(27,"button",33),r(28,"Login"),t()(),e(29,"div",34)(30,"p",16)(31,"a",35),r(32,"Forgot Password"),t()(),e(33,"p",36),r(34,"Don't have account?"),e(35,"a",37),r(36,"Register"),t()()()(),e(37,"div",38)(38,"div",39)(39,"span",40),n(40,"i",41),t(),e(41,"span",40),n(42,"i",42),t(),e(43,"span",43),n(44,"i",44),t()()()}if(a&2){let i=p();s(5),d("formGroup",i.loginForm),s(8),d("ngModel",i.email),s(7),E("fe fe-",i.toggleClass," align-middle"),s(),d("ngModel",i.password)("type",i.showPassword?"text":"password"),s(6),w("loader--text",i.authservice.showLoader),d("disabled",!i.loginForm.valid||i.authservice.showLoader)}}var Qe=(()=>{let l=class l{togglePassword(){this.showPassword=!this.showPassword,this.toggleClass==="eye"?this.toggleClass="eye-off":this.toggleClass="eye"}constructor(m,o,c,f,k,b,he,fe,be,xe){this.document=m,this.elementRef=o,this.sanitizer=c,this.authservice=f,this.router=k,this.formBuilder=b,this.renderer=he,this.firebaseService=fe,this.toastr=be,this.appStateService=xe,this.showPassword=!1,this.toggleClass="eye-off",this.active="Angular",this.disabled="",this.localdata=this.appStateService,this.firestoreModule=this.firebaseService.getFirestore(),this.databaseModule=this.firebaseService.getDatabase(),this.authModule=this.firebaseService.getAuth(),this.email="",this.password="",this.errorMessage="",this._error={name:"",message:""},this.error="",m.body.classList.add("error-1");let Fe=this.elementRef.nativeElement.ownerDocument.documentElement}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",[C.required,C.email]],password:["",C.required]})}ngOnDestroy(){let m=this.elementRef.nativeElement.ownerDocument.documentElement;document.body.classList.remove("error-1")}clearErrorMessage(){this.errorMessage="",this._error={name:"",message:""}}login(){this.clearErrorMessage(),this.validateForm(this.email,this.password)?this.authservice.loginWithEmail(this.email,this.password).then(()=>{this.router.navigate(["/dashboard/hrmdashboards/dashboard"]),console.clear(),this.toastr.success("login successful","dayone",{timeOut:3e3,positionClass:"toast-top-right"})}).catch(m=>{this._error=m,this.router.navigate(["/"])}):this.toastr.error("Invalid details","dayone",{timeOut:3e3,positionClass:"toast-top-right"})}validateForm(m,o){return m.length===0?(this.errorMessage="please enter email id",!1):o.length===0?(this.errorMessage="please enter password",!1):o.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}get form(){return this.loginForm.controls}loginWithBackend(){let m=this.loginForm.controls.username.value,o=this.loginForm.controls.password.value;this.authservice.backendLogin(m,o).subscribe({next:c=>{c&&c.data&&c.data.token?(this.authservice.saveToken(c.data.token),this.router.navigate(["/dashboard/hrmdashboards/dashboard"]),this.toastr.success(c.message||"Login exitoso","Backend",{timeOut:3e3,positionClass:"toast-top-right"})):this.toastr.error("Respuesta inv\xE1lida del servidor","Backend",{timeOut:3e3,positionClass:"toast-top-right"})},error:c=>{this.toastr.error("Credenciales incorrectas o error de servidor","Backend",{timeOut:3e3,positionClass:"toast-top-right"})}})}Submit(){this.loginWithBackend()}};l.\u0275fac=function(o){return new(o||l)(u(G),u(R),u(W),u(ge),u(U),u(ee),u(T),u(L),u(_),u(ce))},l.\u0275cmp=P({type:l,selectors:[["app-login"]],standalone:!0,features:[B([L,{provide:_,useClass:_}]),q],decls:18,vars:2,consts:[["nav","ngbNav"],[1,"page","responsive-log","login-bg"],[1,"page-single"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-9","col-lg-7","col-xl-4","col-xxl-4"],[1,"card","custom-card","my-4"],["ngbNav","",1,"nav-tabs","justify-content-center","border-bottom-0","mb-2","mt-4",3,"activeIdChange","activeId"],["ngbNavItem","Firebase"],["ngbNavLink","",1,"firebase-img"],["src","./assets/images/firebase.svg","alt","",1,"firebase"],["ngbNavContent","",1,"border-0"],["ngbNavItem","Angular"],["src","./assets/images/favicon.svg","alt","",1,"firebase"],[3,"ngbNavOutlet"],[1,"p-4","pt-0","text-center"],[1,"mb-2"],[1,"text-muted","mb-0"],["id","login","name","login",1,"card-body","pb-3",3,"ngSubmit","formGroup"],[1,"text-danger"],[1,"form-group"],[1,"form-label"],[1,"input-group","mb-3"],[1,"input-group"],["href","",1,"input-group-text"],["aria-hidden","true",1,"fe","fe-mail"],["autocomplete","","formControlName","username","required","","placeholder","user name",1,"form-control",3,"ngModel"],[1,"input-group-text",3,"click"],["required","","formControlName","password","autocomplete","","type","password","id","signin-password","placeholder","Password",1,"form-control",3,"ngModel","type"],[1,"form-check","mb-3"],["type","checkbox","value","","id","defaultCheck1",1,"form-check-input"],["for","defaultCheck1",1,"form-check-label"],[1,"submit","d-grid"],["autofocus","",1,"btn","btn-primary","me-0",3,"disabled"],[1,"text-center","mt-3"],["routerLink","/account/forget-password/forget-password01"],[1,"text-dark","mb-0"],["routerLink","/account/register/register01",1,"text-primary","ms-1","d-inline-flex"],[1,"card-body","border-top-0","pt-1"],[1,"text-center","mb-1"],[1,"avatar","avatar-rounded","me-2","bg-primary-transparent","text-primary"],[1,"ri-facebook-line","fs-17"],[1,"ri-instagram-line","fs-17"],[1,"avatar","avatar-rounded","bg-primary-transparent","text-primary"],[1,"ri-twitter-x-line","fs-17"],["placeholder","Email","autocomplete","","formControlName","username","required","","placeholder","user name",1,"form-control",3,"ngModel"]],template:function(o,c){if(o&1){let f=x();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"ul",7,0),O("activeIdChange",function(b){return g(f),j(c.active,b)||(c.active=b),v(b)}),e(8,"li",8)(9,"a",9),n(10,"img",10),t(),S(11,Ce,47,12,"ng-template",11),t(),e(12,"li",12)(13,"a",9),n(14,"img",13),t(),S(15,ye,45,10,"ng-template",11)(16,Me,45,10,"ng-template",11),t()(),n(17,"div",14),t()()()()()()}if(o&2){let f=A(7);s(6),D("activeId",c.active),s(11),d("ngbNavOutlet",f)}},dependencies:[H,z,de,re,ae,oe,ne,le,se,me,te,X,J,K,Q,$,ie,Y,Z,y,F,M,ve],styles:[".firebase{width:30px;height:30px}  .nav-tabs{border-color:none!important}"]});let a=l;return a})();export{Qe as LoginComponent};
