import{a as w}from"./chunk-IORNA22M.js";import{c as W,n as te}from"./chunk-TZ7XX7TS.js";import{a as Z,b as K,c as ee}from"./chunk-Q7QIC4CI.js";import"./chunk-PMH5YGMK.js";import"./chunk-LPZBSW5G.js";import"./chunk-7UKZCJ6U.js";import"./chunk-BVMR5GE6.js";import{$ as b,G as M,I as k,K as L,Kb as F,Na as H,Oc as V,Pc as G,Qa as r,Ra as N,Sc as E,Vb as i,Wb as d,X as B,Yb as U,Zc as X,_c as q,bc as O,cc as R,d as T,e as f,ea as P,ha as y,jb as A,la as j,mc as v,nb as C,nc as x,nd as Y,o as _,oc as Q,r as $,ub as J,vb as z,wb as t,xb as e,yb as h}from"./chunk-KFCCYZAB.js";import{a as D,b as I}from"./chunk-REZWHGN7.js";var S=(()=>{let n=class n{constructor(a,o){this.pipe=a,this.http=o,this.apiUrl=`${w.apiUrl}/v1/empleados`,this._loading$=new f(!0),this._search$=new T,this._employeeData$=new f([]),this._total$=new f(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe(b(()=>this._loading$.next(!0)),k(200),B(()=>this._search()),L(200),b(()=>this._loading$.next(!1))).subscribe(s=>{this._employeeData$.next(s.employeeData),this._total$.next(s.total)}),this._search$.next()}get employeeData$(){return this._employeeData$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}getEmployeeStats(){return this.http.get(`${w.apiUrl}/v1/empleados/stats`)}set page(a){this._set({page:a})}set pageSize(a){this._set({pageSize:a})}set searchTerm(a){this._set({searchTerm:a})}set sortColumn(a){this._set({sortColumn:a})}set sortDirection(a){this._set({sortDirection:a})}_set(a){Object.assign(this._state,a),this._search$.next()}_search(){let{pageSize:a,page:o,searchTerm:s}=this._state,l=new X().set("page",o.toString()).set("limit",a.toString());return s&&(l=l.set("search",s)),this.http.get(this.apiUrl,{params:l}).pipe($(c=>({employeeData:this.mapEmpleadosToEmployeeList(c.data.data),total:c.data.pagination.total})),M(()=>_({employeeData:[],total:0})))}mapEmpleadosToEmployeeList(a){return a.map(o=>I(D({},o),{img:"./assets/images/users/1.jpg",tiempoTrabajo:this.calculateWorkTime(o.fechaContratacion)}))}calculateWorkTime(a){let o=new Date(a),l=new Date().getTime()-o.getTime(),c=Math.floor(l/(1e3*60*60*24*365)),u=Math.floor(l%(1e3*60*60*24*365)/(1e3*60*60*24*30)),g=Math.floor(l%(1e3*60*60*24*30)/(1e3*60*60*24));return`${c} yrs ${u} mons ${g} days`}};n.\u0275fac=function(o){return new(o||n)(y(E),y(q))},n.\u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"});let p=n;return p})();var ne=(p,n)=>n.id;function oe(p,n){if(p&1&&(t(0,"tr",38)(1,"th",46),i(2),e(),t(3,"td")(4,"div",26)(5,"div",47),h(6,"img",48),e(),t(7,"div")(8,"div",49)(9,"h6",50),i(10),e()(),t(11,"div",49)(12,"span",51),i(13),e()()()()(),t(14,"td"),i(15),e(),t(16,"td"),i(17),e(),t(18,"td"),i(19),e(),t(20,"td"),i(21),v(22,"date"),e(),t(23,"td"),i(24),e(),t(25,"td")(26,"span",52),i(27),e()(),h(28,"td"),e()),p&2){let m=n.$implicit,a=F();r(2),d(m.id),r(4),A("src",m.img,H),r(4),U("",m.nombre," ",m.apellido,""),r(3),d(m.correo),r(2),d(m.departamento||"N/A"),r(2),d(m.puesto),r(2),d(m.telefono),r(2),d(Q(22,13,m.fechaContratacion,"short")),r(3),d(a.calculateWorkTime(m.fechaContratacion)),r(2),C(m.activo?"bg-success":"bg-danger"),r(),d(m.activo?"Active":"Inactive")}}var Se=(()=>{let n=class n{constructor(a){this.empleadoService=a,this.employeeList$=a.employeeData$,this.total$=a.total$,this.loading$=a.loading$,this.stats$=a.getEmployeeStats()}ngOnInit(){}deleteData(a){console.log("Eliminar empleado:",a)}get lists(){return[]}calculateWorkTime(a){let o=new Date(a),l=new Date().getTime()-o.getTime(),c=Math.floor(l/(1e3*60*60*24*365)),u=Math.floor(l%(1e3*60*60*24*365)/(1e3*60*60*24*30)),g=Math.floor(l%(1e3*60*60*24*30)/(1e3*60*60*24));return`${c} yrs ${u} mons ${g} days`}};n.\u0275fac=function(o){return new(o||n)(N(S))},n.\u0275cmp=j({type:n,selectors:[["app-employee-list"]],standalone:!0,features:[O([S,E]),R],decls:129,vars:20,consts:[[3,"title","title2","class1","path"],[1,"row"],[1,"col-xl-3","col-lg-6","col-md-6"],[1,"card","custom-card"],[1,"card-body"],[1,"col-7"],[1,"mt-0","text-start"],[1,"fw-medium"],[1,"mb-0","mt-1","text-success"],[1,"col-5"],[1,"icon1","bg-success-transparent","my-auto","float-end"],[1,"las","la-users"],[1,"mb-0","mt-1","text-primary"],[1,"icon1","bg-primary-transparent","my-auto","float-end"],[1,"las","la-male"],[1,"mb-0","mt-1","text-secondary"],[1,"icon1","bg-secondary-transparent","my-auto","float-end"],[1,"las","la-female"],[1,"mb-0","mt-1","text-danger"],[1,"icon1","bg-danger-transparent","my-auto","float-end"],[1,"las","la-user-friends"],[1,"col-md-12"],[1,"card-header"],[1,"card-title"],[1,"row","mb-2","gap-2","gap-lg-0"],[1,"col-lg-6"],[1,"d-flex","align-items-center"],[1,"d-flex","ms-2","mx-2"],[1,"form-group","mb-0"],["name","quantity","id","select-countries17","placeholder","10","data-trigger","",1,"form-control","wd-150","p-0"],["value","1","selected",""],["value","2"],["value","3"],["value","4"],[1,"float-end"],["type","text","placeholder","Buscar",1,"form-control"],[1,"table-responsive"],[1,"table","mb-0","text-nowrap","text-md-nowrap","table-bordered","border"],[1,"border-bottom"],["scope","col"],[1,"mt-4"],[1,"pagination","justify-content-end","mb-0"],[1,"page-item","disabled"],["href","javascript:void(0);",1,"page-link"],[1,"page-item","active"],[1,"page-item"],["scope","row"],[1,"avatar","me-2","avatar-rounded"],["alt","img",3,"src"],[1,"lh-1"],[1,"mb-1"],[1,"fs-12","text-muted"],[1,"badge"]],template:function(o,s){if(o&1&&(h(0,"app-hr-dashboard-page-header",0),t(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",1)(6,"div",5)(7,"div",6)(8,"span",7),i(9,"Total Empleados"),e(),t(10,"h3",8),i(11),v(12,"async"),e()()(),t(13,"div",9)(14,"div",10),h(15,"i",11),e()()()()()(),t(16,"div",2)(17,"div",3)(18,"div",4)(19,"div",1)(20,"div",5)(21,"div",6)(22,"span",7),i(23,"Total Hombres"),e(),t(24,"h3",12),i(25),v(26,"async"),e()()(),t(27,"div",9)(28,"div",13),h(29,"i",14),e()()()()()(),t(30,"div",2)(31,"div",3)(32,"div",4)(33,"div",1)(34,"div",5)(35,"div",6)(36,"span",7),i(37,"Total Mujeres"),e(),t(38,"h3",15),i(39),v(40,"async"),e()()(),t(41,"div",9)(42,"div",16),h(43,"i",17),e()()()()()(),t(44,"div",2)(45,"div",3)(46,"div",4)(47,"div",1)(48,"div",5)(49,"div",6)(50,"span",7),i(51,"Nuevos Empleados"),e(),t(52,"h3",18),i(53),v(54,"async"),e()()(),t(55,"div",9)(56,"div",19),h(57,"i",20),e()()()()()()(),t(58,"div",1)(59,"div",21)(60,"div",3)(61,"div",22)(62,"h3",23),i(63,"Lista de empleados"),e()(),t(64,"div",4)(65,"div",24)(66,"div",25)(67,"div",26)(68,"span"),i(69,"Mostrar"),e(),t(70,"div",27)(71,"div",28)(72,"ng-select",29)(73,"ng-option",30),i(74,"10"),e(),t(75,"ng-option",31),i(76,"25"),e(),t(77,"ng-option",32),i(78,"50"),e(),t(79,"ng-option",33),i(80,"100"),e()()()(),t(81,"span"),i(82,"registros"),e()()(),t(83,"div",25)(84,"div",34),h(85,"input",35),e()()(),t(86,"div",36)(87,"table",37)(88,"thead")(89,"tr",38)(90,"th",39),i(91,"No"),e(),t(92,"th",39),i(93,"Nombre Empleado"),e(),t(94,"th",39),i(95,"Departamento"),e(),t(96,"th",39),i(97,"Puesto de Trabajo"),e(),t(98,"th",39),i(99,"N\xFAmero de tel\xE9fono"),e(),t(100,"th",39),i(101,"Fecha Inicio"),e(),t(102,"th",39),i(103,"Tiempo en el puesto"),e(),t(104,"th",39),i(105,"Estado"),e(),t(106,"th",39),i(107,"Acciones"),e()()(),t(108,"tbody"),J(109,oe,29,16,"tr",38,ne),v(111,"async"),e()()(),t(112,"nav",40)(113,"ul",41)(114,"li",42)(115,"a",43),i(116,"Prev"),e()(),t(117,"li",44)(118,"a",43),i(119,"1"),e()(),t(120,"li",45)(121,"a",43),i(122,"2"),e()(),t(123,"li",45)(124,"a",43),i(125,"3"),e()(),t(126,"li",45)(127,"a",43),i(128,"Next"),e()()()()()()()()),o&2){let l,c,u,g;C("btn btn-primary"),A("title","Empleados")("title2","Agregar Nuevo Empleado")("class1","")("path","/dashboard/hrmdashboards/employees/add-employee"),r(11),d((l=x(12,10,s.stats$))==null||l.data==null?null:l.data.totalEmpleados),r(14),d((c=x(26,12,s.stats$))==null||c.data==null?null:c.data.empleadosHombres),r(14),d(((u=x(40,14,s.stats$))==null||u.data==null?null:u.data.empleadasMujeres)||0),r(14),d((g=x(54,16,s.stats$))==null||g.data==null?null:g.data.empleadosNuevos),r(56),z(x(111,18,s.employeeList$))}},dependencies:[te,W,Y,ee,K,Z,V,G],styles:['th[sortable].desc[_ngcontent-%COMP%]:before, th[sortable].asc[_ngcontent-%COMP%]:before{content:"";display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAmxJREFUeAHtmksrRVEUx72fH8CIGQNJkpGUUmakDEiZSJRIZsRQmCkTJRmZmJgQE0kpX0D5DJKJgff7v+ru2u3O3vvc67TOvsdatdrnnP1Y///v7HvvubdbUiIhBISAEBACQkAICAEhIAQ4CXSh2DnyDfmCPEG2Iv9F9MPlM/LHyAecdyMzHYNwR3fdNK/OH9HXl1UCozD24TCvILxizEDWIEzA0FcM8woCgRrJCoS5PIwrANQSMAJX1LEI9bqpQo4JYNFFKRSvIgsxHDVnqZgIkPnNBM0rIGtYk9YOOsqgbgepRCfdbmFtqhFkVEDVPjJp0+Z6e6hRHhqBKgg6ZDCvYBygVmUoEGoh5JTRvIJwhJo1aUOoh4CLPMyvxxi7EWOMgnCGsXXI1GIXlZUYX7ucU+kbR8NW8lh3O7cue0Pk32MKndfUxQFAwxdirk3fHappAnc0oqDPzDfGTBrCfHP04dM4oTV8cxr0SVzH9FF07xD3ib6xCDE+M+aUcVygtWzzbtGX2rPBrEUYfecfQkaFzYi6HjVnGBdtL7epqAlc1+jRdAap74RrnPc4BCijttY2tRcdN0g17w7HqZrXhdJTYAuS3hd8z+vKgK3V1zWPae0mZDMykadBn1hTQBLnZNwVrJpSe/NwEeDsEwCctEOsJTsgxLvCqUl2ACftEGvJDgjxrnBqkh3ASTvEWrIDQrwrnJpkB3DSDrGW7IAQ7wqnJtkBnLRztejXXVu4+mxz/nQ9jR1w5VB86ejLTFcnnDwhzV+F6T+CHZlx6THSjn76eyyBIOPHyDakhBAQAkJACAgBISAEhIAQYCLwC8JxpAmsEGt6AAAAAElFTkSuQmCC) no-repeat;background-size:22px;width:22px;height:22px}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}']});let p=n;return p})();export{Se as EmployeeListComponent};
