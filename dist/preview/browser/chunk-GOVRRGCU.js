import{a as o}from"./chunk-USS2N3RB.js";import{$c as l,ea as s,ha as p,r as i}from"./chunk-W3KPMJ6O.js";var m=(()=>{let a=class a{constructor(t){this.http=t,this.apiUrl=`${o.apiUrl}/v1`,this.pythonApiUrl=o.pythonApiUrl}getCompanies(){return this.http.get(`${this.apiUrl}/tenants`).pipe(i(t=>t.data.data.map(e=>this.mapTenantToCompany(e))))}mapTenantToCompany(t){return{id:t.id,img:`./assets/images/media/files/company/img${t.id}.png`,name:t.nombre,email:t.correo,package:"Basic (Monthly)",packageBadge:"Change",registeredBy:new Date(t.fechaRegistro).toLocaleDateString(),statusText:t.activo?"Active":"Inactive",status:t.activo?"success":"danger",telefono:t.telefono,direccion:t.direccion,nit:t.nit,activo:t.activo}}deleteCompany(t){return this.http.delete(`${this.apiUrl}/tenants/${t}`).pipe(i(()=>!0))}updateCompany(t){let e={nombre:t.name,correo:t.email,telefono:t.telefono,direccion:t.direccion,nit:t.nit,activo:t.activo};return this.http.put(`${this.apiUrl}/tenants/${t.id}`,e).pipe(i(r=>this.mapTenantToCompany(r)))}createCompany(t){let e={nombre:t.name,correo:t.email,telefono:t.telefono,direccion:t.direccion,nit:t.nit,activo:t.activo??!0};return this.http.post(`${this.apiUrl}/tenants`,e).pipe(i(r=>this.mapTenantToCompany(r)))}getCompanyById(t){return this.http.get(`${this.apiUrl}/tenants/${t}`).pipe(i(e=>this.mapTenantToCompany(e)))}getPlans(){return this.http.get(`${this.apiUrl}/planes`).pipe(i(t=>t.data.data))}createPlan(t){return this.http.post(`${this.apiUrl}/planes`,t)}updatePlan(t){return this.http.put(`${this.apiUrl}/planes/${t.id_plan}`,t)}deletePlan(t){return this.http.delete(`${this.apiUrl}/planes/${t}`).pipe(i(()=>!0))}getPlanById(t){return this.http.get(`${this.apiUrl}/planes/${t}`)}getEnabledModules(t){return this.http.get(`${this.apiUrl}/modules/enableddos?idTenant=${t}`)}updateModuleStatus(t,e,r){return this.http.post(`${this.apiUrl}/modules/updatedos`,{idTenant:t,idModule:e,isEnabled:r})}};a.\u0275fac=function(e){return new(e||a)(p(l))},a.\u0275prov=s({token:a,factory:a.\u0275fac,providedIn:"root"});let n=a;return n})();export{m as a};
