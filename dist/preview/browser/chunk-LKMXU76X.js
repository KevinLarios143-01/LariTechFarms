import{a as J}from"./chunk-7JSPO77L.js";import"./chunk-IORNA22M.js";import{c as z,n as G}from"./chunk-L3BSSDS5.js";import"./chunk-S5Y45Y7X.js";import"./chunk-TZ522SJ7.js";import{r as q}from"./chunk-P6RHK3TE.js";import"./chunk-LAI4YRFV.js";import{N as j,O as R,P as A,Q as O,R as U,T as W,U as H,ca as $}from"./chunk-I6FKYEZO.js";import{$b as k,Cb as y,Ib as C,Kb as p,Qa as o,Ra as u,Vb as _,Wb as n,Wc as L,Xb as b,Yb as v,ac as I,bc as P,db as g,dc as N,fc as V,id as B,jb as l,kb as S,kd as D,la as w,ld as F,nb as x,od as M,rb as E,ua as f,va as h,wb as t,xb as e,yb as a,yc as T}from"./chunk-W3KPMJ6O.js";import"./chunk-REZWHGN7.js";var X=r=>["../edit",r];function Y(r,s){r&1&&(t(0,"div",2)(1,"div",5)(2,"span",6),n(3,"Cargando..."),e()()())}function Z(r,s){r&1&&(t(0,"div",34),a(1,"i",49),n(2," Stock bajo - Considere reabastecer "),e())}function ee(r,s){if(r&1&&(t(0,"div",50)(1,"div",27)(2,"h4",51),n(3,"Datos del Producto"),e(),t(4,"div",52)(5,"div",3)(6,"div",53)(7,"label",54),n(8,"Nombre del Producto"),e()(),t(9,"div",55),a(10,"input",56),e()()(),t(11,"div",52)(12,"div",3)(13,"div",53)(14,"label",54),n(15,"Tama\xF1o"),e()(),t(16,"div",55),a(17,"input",56),e()()(),t(18,"div",52)(19,"div",3)(20,"div",53)(21,"label",54),n(22,"Categor\xEDa"),e()(),t(23,"div",55),a(24,"input",56),e()()(),t(25,"h4",57),n(26,"Precio e Inventario"),e(),t(27,"div",52)(28,"div",3)(29,"div",53)(30,"label",54),n(31,"Precio Unitario"),e()(),t(32,"div",55)(33,"div",58)(34,"span",59),n(35,"$"),e(),a(36,"input",56),e()()()(),t(37,"div",52)(38,"div",3)(39,"div",53)(40,"label",54),n(41,"Stock Disponible"),e()(),t(42,"div",55),a(43,"input",56),e()()(),t(44,"div",52)(45,"div",3)(46,"div",53)(47,"label",54),n(48,"Valor Total en Stock"),e()(),t(49,"div",55)(50,"div",58)(51,"span",59),n(52,"$"),e(),a(53,"input",56),e()()()(),t(54,"div",60)(55,"div",3)(56,"div",53)(57,"label",61),n(58,"Estado del Producto:"),e()(),t(59,"div",55)(60,"div",62),a(61,"input",63),t(62,"label",64),n(63,"Activo/Inactivo"),e()()()()()()()),r&2){let d=p(2);o(10),l("value",d.producto.nombre),o(7),l("value",d.producto.tamanio||"No especificado"),o(7),l("value",d.producto.categoria||"Sin categor\xEDa"),o(12),l("value",d.producto.precio.toFixed(2)),o(7),l("value",d.producto.stock+" unidades"),o(10),l("value",(d.producto.precio*d.producto.stock).toFixed(2)),o(8),l("checked",d.producto.activo)}}function te(r,s){if(r&1){let d=y();t(0,"div",3)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),a(5,"i",11),e(),t(6,"div",12)(7,"h5",13),n(8),e(),t(9,"h6",14),n(10),e()()(),t(11,"div",15)(12,"div",3)(13,"div",16)(14,"h5",17),n(15,"Precio"),e(),t(16,"h5",18)(17,"span",19),n(18),e()(),t(19,"h5",20),n(20,"Unitario"),e()(),t(21,"div",21)(22,"h5",17),n(23,"Stock"),e(),t(24,"h5",18)(25,"span",22),n(26),e()(),t(27,"h5",20),n(28,"Unidades"),e()(),t(29,"div",23)(30,"h5",17),n(31,"Estado"),e(),t(32,"h5",18)(33,"span",22),n(34),e()(),t(35,"h5",20),n(36,"Producto"),e()()()()(),t(37,"div",24)(38,"div",25)(39,"div",26),n(40,"Estad\xEDsticas"),e()(),t(41,"div",27)(42,"div",28)(43,"h6"),n(44,"Valor Total"),e(),t(45,"h6",29),n(46),e()(),t(47,"div",30),a(48,"div",31),e(),t(49,"div",32)(50,"h6"),n(51,"Stock Disponible"),e(),t(52,"h6",29),n(53),e()(),t(54,"div",30),a(55,"div",33),e(),g(56,Z,3,0,"div",34),e()()(),t(57,"div",35)(58,"div",36)(59,"div",37)(60,"ul",38,0),P("activeIdChange",function(c){f(d);let m=p();return I(m.active,c)||(m.active=c),h(c)}),t(62,"li",39)(63,"a",40),n(64,"Informaci\xF3n del Producto"),e(),g(65,ee,64,7,"ng-template",41),e()()()(),t(66,"div",42),a(67,"div",43),t(68,"div",44)(69,"button",45),a(70,"i",46),n(71," Editar "),e(),t(72,"button",47),C("click",function(){f(d);let c=p();return h(c.deleteProducto())}),a(73,"i",48),n(74," Eliminar "),e()()()()()}if(r&2){let d=_(61),i=p();o(8),b(i.producto.nombre),o(2),b(i.producto.categoria||"Sin categor\xEDa"),o(8),v("$",i.producto.precio.toFixed(2),""),o(7),x(i.getStockClass(i.producto.stock)),o(),b(i.producto.stock),o(7),x(i.producto.activo?"text-success":"text-danger"),o(),v(" ",i.producto.activo?"Activo":"Inactivo"," "),o(12),v("$",(i.producto.precio*i.producto.stock).toFixed(2),""),o(2),S("width",100,"%"),o(5),v("",i.producto.stock," unidades"),o(2),x(i.getStockClass(i.producto.stock).replace("text-","bg-")),S("width",i.getStockPercentage(i.producto.stock),"%"),o(),E(i.producto.stock<=50?56:-1),o(4),k("activeId",i.active),o(2),l("ngbNavItem",1),o(5),l("ngbNavOutlet",d),o(2),l("routerLink",V(22,X,i.producto.id))}}function ie(r,s){r&1&&(t(0,"div",4),a(1,"i",49),n(2," No se encontr\xF3 informaci\xF3n del producto. "),e())}var pe=(()=>{let s=class s{constructor(i,c,m,K,Q){this.productosService=i,this.route=c,this.router=m,this.cdr=K,this.toastr=Q,this.producto=null,this.isLoading=!1,this.active=1,this.productoId=parseInt(this.route.snapshot.paramMap.get("id")||"0")}ngOnInit(){this.loadProducto()}loadProducto(){this.isLoading=!0,this.productosService.getProductoById(this.productoId).subscribe({next:i=>{this.producto=i.data,this.isLoading=!1,this.cdr.detectChanges()},error:i=>{this.toastr.error("Error al cargar producto","Error",{progressBar:!0,closeButton:!0}),this.isLoading=!1,this.router.navigate(["../list"],{relativeTo:this.route})}})}deleteProducto(){confirm("\xBFEst\xE1 seguro de eliminar este producto?")&&this.productosService.deleteProducto(this.productoId).subscribe({next:()=>{this.toastr.success("Producto eliminado exitosamente","\xC9xito",{progressBar:!0,closeButton:!0}),this.router.navigate(["../list"],{relativeTo:this.route})},error:()=>{this.toastr.error("Error al eliminar producto","Error",{progressBar:!0,closeButton:!0})}})}getStockClass(i){return i<=50?"text-danger":i<=100?"text-warning":"text-success"}getStockBadgeClass(i){return i<=50?"badge bg-danger":i<=100?"badge bg-warning":"badge bg-success"}getActivoBadgeClass(i){return i?"badge bg-success":"badge bg-danger"}getStockPercentage(i){return Math.min(i/200*100,100)}};s.\u0275fac=function(c){return new(c||s)(u(J),u(B),u(D),u(T),u(q))},s.\u0275cmp=w({type:s,selectors:[["app-view-producto"]],standalone:!0,features:[N],decls:4,vars:2,consts:[["nav","ngbNav"],[3,"title"],[1,"d-flex","justify-content-center","align-items-center",2,"height","400px"],[1,"row"],["role","alert",1,"alert","alert-warning"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"col-xxl-3","col-xl-4","col-md-12","col-lg-12"],[1,"card","box-widget","widget-user","custom-card"],[1,"card-body","text-center"],[1,"widget-user-image","mx-auto","text-center"],[1,"fas","fa-box","fa-5x","text-primary"],[1,"pro-user","mt-3"],[1,"pro-user-username","text-dark","mb-1","fs-16"],[1,"pro-user-desc","text-muted","fs-12"],[1,"card-footer","p-0"],[1,"col-4","text-center","py-3","border-end"],[1,"fs-12","fw-semibold","mb-3"],[1,"mb-2"],[1,"fs-18","text-success"],[1,"fs-12","mb-0"],[1,"col-4","py-3","text-center","border-end"],[1,"fs-18"],[1,"col-4","text-center","py-3"],[1,"card","custom-card"],[1,"card-header","border-0"],[1,"card-title"],[1,"card-body"],[1,"d-flex","align-items-end","justify-content-between"],[1,"font-weight-bold","mb-1"],[1,"progress","progress-sm","mb-5"],[1,"progress-bar","bg-success"],[1,"d-flex","align-items-end","justify-content-between","mg-b-5"],[1,"progress-bar"],[1,"alert","alert-warning"],[1,"col-xxl-9","col-xl-8","col-md-12","col-lg-12"],[1,"tab-menu-heading","hremp-tabs","p-0","border-0"],[1,"tabs-menu1"],["ngbNav","",1,"panel-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"panel-body","tabs-menu-body","hremp-tabs1","p-0"],[1,"tab-content",3,"ngbNavOutlet"],[1,"panel-footer","text-end"],["type","button",1,"me-2","btn","btn-warning",3,"routerLink"],[1,"fas","fa-edit"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-exclamation-triangle","me-2"],["id","tab1"],[1,"mb-4","font-weight-bold"],[1,"form-group"],[1,"col-md-3"],[1,"form-label","mb-0","mt-2"],[1,"col-md-9"],["type","text","readonly","",1,"form-control",3,"value"],[1,"mb-4","mt-7","font-weight-bold"],[1,"input-group"],[1,"input-group-text"],[1,"form-group","mt-7"],[1,"form-label"],[1,"form-check","form-check-md","form-switch"],["type","checkbox","role","switch","id","switch-activo","disabled","",1,"form-check-input",3,"checked"],["for","switch-activo",1,"form-check-label","mt-0","custom-switch-description"]],template:function(c,m){c&1&&(a(0,"app-hr-dashboard-page-header",1),g(1,Y,4,0,"div",2)(2,te,75,24,"div",3)(3,ie,3,0,"div",4)),c&2&&(l("title","Ver Producto"),o(),E(m.isLoading?1:m.producto?2:3))},dependencies:[L,M,F,$,j,O,A,R,W,U,H,G,z]});let r=s;return r})();export{pe as ViewProductoComponent};
