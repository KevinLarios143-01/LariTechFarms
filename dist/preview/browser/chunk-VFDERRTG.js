import{a as A}from"./chunk-JMUEYSLK.js";import"./chunk-IORNA22M.js";import{c as F,n as j}from"./chunk-TZ7XX7TS.js";import"./chunk-Q7QIC4CI.js";import"./chunk-PMH5YGMK.js";import{r as T}from"./chunk-LPZBSW5G.js";import"./chunk-7UKZCJ6U.js";import"./chunk-BVMR5GE6.js";import{Cb as y,Ib as f,Kb as p,Na as _,Pc as k,Qa as o,Ra as u,Vb as i,Wb as d,Xb as I,Yb as U,cc as V,db as C,hd as M,jb as x,jd as D,la as S,mc as g,nb as h,oc as E,rb as w,ua as v,va as b,wb as e,xb as t,yb as m}from"./chunk-KFCCYZAB.js";import"./chunk-REZWHGN7.js";function H(s,l){if(s&1){let n=y();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),m(5,"img",6),t(),e(6,"h5",7),i(7),t(),e(8,"p",8),i(9),t(),e(10,"span",9),i(11),t()()()(),e(12,"div",10)(13,"div",3)(14,"div",11)(15,"h3",12),i(16,"Informaci\xF3n del Usuario"),t(),e(17,"div",13)(18,"button",14),f("click",function(){v(n);let r=p();return b(r.onEdit())}),m(19,"i",15),i(20," Editar "),t(),e(21,"button",16),f("click",function(){v(n);let r=p();return b(r.onDelete())}),m(22,"i",17),i(23," Eliminar "),t()()(),e(24,"div",18)(25,"div",1)(26,"div",19)(27,"div",20)(28,"label",21),i(29,"ID Usuario:"),t(),e(30,"p",22),i(31),t()()(),e(32,"div",19)(33,"div",20)(34,"label",23),i(35,"Email:"),t(),e(36,"p",22),i(37),t()()()(),e(38,"div",1)(39,"div",19)(40,"div",20)(41,"label",24),i(42,"Tel\xE9fono:"),t(),e(43,"p",22),i(44,"4234-8511"),t()()(),e(45,"div",19)(46,"div",20)(47,"label",25),i(48,"Rol:"),t(),e(49,"p",22),i(50),t()()()(),e(51,"div",1)(52,"div",19)(53,"div",20)(54,"label",26),i(55,"Fecha de Creaci\xF3n:"),t(),e(56,"p",22),i(57),g(58,"date"),t()()(),e(59,"div",19)(60,"div",20)(61,"label",27),i(62,"\xDAltimo Acceso:"),t(),e(63,"p",22),i(64),g(65,"date"),t()()()(),e(66,"div",1)(67,"div",28)(68,"button",29),f("click",function(){v(n);let r=p();return b(r.onBack())}),m(69,"i",30),i(70," Volver a la Lista "),t()()()()()()()}if(s&2){let n=p();o(5),x("src","./assets/images/users/1.jpg",_),o(2),U("",n.user.nombre," ",n.user.apellido,""),o(2),d(n.user.rol),o(),h(n.user.activo?"bg-success":"bg-danger"),o(),I(" ",n.user.activo?"Activo":"Inactivo"," "),o(20),d(n.user.id),o(6),d(n.user.email),o(13),d(n.user.rol),o(7),d(E(58,12,n.user.fechaCreacion,"dd/MM/yyyy")),o(7),d(E(65,15,n.user.ultimoLogin,"dd/MM/yyyy HH:mm"))}}function L(s,l){s&1&&(e(0,"div",1)(1,"div",28)(2,"div",3)(3,"div",4)(4,"div",31)(5,"span",32),i(6,"Cargando..."),t()(),e(7,"p",33),i(8,"Cargando informaci\xF3n del usuario..."),t()()()()())}var K=(()=>{let l=class l{constructor(a,r,c,B){this.route=a,this.router=r,this.usuariosService=c,this.toastr=B,this.user=null,this.loading=!0}ngOnInit(){this.loadUser()}loadUser(){let a=this.route.snapshot.paramMap.get("id");a&&this.usuariosService.obtenerUsuario(a).subscribe({next:r=>{this.user=r.data,this.loading=!1},error:r=>{console.error("Error al cargar usuario:",r),this.loading=!1}})}onEdit(){this.user?.id&&this.router.navigate(["/dashboard/hrmdashboards/users/edit-user",this.user.id])}onDelete(){this.user?.id&&confirm("\xBFEst\xE1 seguro de eliminar este usuario?")&&this.usuariosService.eliminarUsuario(this.user.id.toString()).subscribe({next:()=>{console.log("Usuario eliminado exitosamente"),this.toastr.success("Usuario eliminado exitosamente","\xC9xito",{timeOut:3e3,positionClass:"toast-top-right"}),this.router.navigate(["/dashboard/hrmdashboards/users/user-list"])},error:a=>{console.error("Error al eliminar usuario:",a),this.toastr.error("Error al eliminar usuario: "+(a.error?.message||"Error desconocido"),"Error",{timeOut:3e3,positionClass:"toast-top-right"})}})}onBack(){this.router.navigate(["/dashboard/hrmdashboards/users/user-list"])}};l.\u0275fac=function(r){return new(r||l)(u(M),u(D),u(A),u(T))},l.\u0275cmp=S({type:l,selectors:[["app-view-user"]],standalone:!0,features:[V],decls:3,vars:7,consts:[[3,"title","title2","class1","path"],[1,"row"],[1,"col-xl-4"],[1,"card","custom-card"],[1,"card-body","text-center"],[1,"avatar","avatar-xxl","mx-auto","mb-3"],["alt","Usuario",1,"rounded-circle",3,"src"],[1,"mb-1"],[1,"text-muted","mb-3"],[1,"badge"],[1,"col-xl-8"],[1,"card-header"],[1,"card-title"],[1,"card-options"],[1,"btn","btn-primary","btn-sm","me-2",3,"click"],[1,"fe","fe-edit"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fe","fe-trash-2"],[1,"card-body"],[1,"col-md-6"],[1,"mb-3"],["for","id",1,"form-label","fw-semibold"],[1,"text-muted"],["for","email",1,"form-label","fw-semibold"],["for","telefono",1,"form-label","fw-semibold"],["for","rol",1,"form-label","fw-semibold"],["for","fechaCreacion",1,"form-label","fw-semibold"],["for","ultimoLogin",1,"form-label","fw-semibold"],[1,"col-12"],[1,"btn","btn-secondary",3,"click"],[1,"fe","fe-arrow-left"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"mt-2"]],template:function(r,c){r&1&&(m(0,"app-hr-dashboard-page-header",0),C(1,H,71,18,"div",1)(2,L,9,0,"div",1)),r&2&&(h("btn btn-secondary"),x("title","Ver Usuario")("title2","Volver a Lista")("class1","")("path","/dashboard/hrmdashboards/users/user-list"),o(),w(!c.loading&&c.user?1:c.loading?2:-1))},dependencies:[j,F,k]});let s=l;return s})();export{K as ViewUserComponent};
