import{a as L}from"./chunk-DLHDC45V.js";import"./chunk-USS2N3RB.js";import{a as H,n as B}from"./chunk-44QSXYOT.js";import{a as V,b as z,c as K}from"./chunk-S5Y45Y7X.js";import"./chunk-PLAIHBDU.js";import{r as A}from"./chunk-GNT7AIZA.js";import{a as S,b as P,d as j}from"./chunk-LAI4YRFV.js";import{c as D,e as u,g as T,h as w,m as O,p as q,q as M,w as R,y as G}from"./chunk-I6FKYEZO.js";import{Ib as E,Mc as I,Qa as a,Ra as f,Wb as i,Wc as N,Yb as x,cc as F,db as p,dc as _,jb as m,kd as k,la as C,od as y,wb as t,xb as e,yb as r}from"./chunk-W3KPMJ6O.js";import"./chunk-REZWHGN7.js";function U(l,o){l&1&&(t(0,"div",44)(1,"small"),i(2,"El nombre es requerido"),e()())}function Y(l,o){l&1&&(t(0,"div",44)(1,"small"),i(2,"Ingrese un email v\xE1lido"),e()())}function J(l,o){l&1&&(t(0,"div",44)(1,"small"),i(2,"El tel\xE9fono es requerido"),e()())}function Q(l,o){l&1&&(t(0,"div",44)(1,"small"),i(2,"El NIT es requerido"),e()())}function W(l,o){l&1&&(t(0,"div",44)(1,"small"),i(2,"La direcci\xF3n es requerida"),e()())}function X(l,o){l&1&&r(0,"span",45)}var ue=(()=>{let o=class o{constructor(s,d,n,c){this.fb=s,this.clienteService=d,this.router=n,this.toastr=c,this.loading=!1,this.inlineDatePicker=!1,this.flatpickrOptions={inline:!0},this.clienteForm=this.fb.group({nombre:["",u.required],telefono:["",u.required],correo:["",[u.required,u.email]],direccion:["",u.required],nit:["",u.required]})}ngOnInit(){this.initializeFlatpickr()}onSubmit(){if(this.clienteForm.valid){this.loading=!0;let s=this.clienteForm.value;this.clienteService.createCliente(s).subscribe({next:d=>{this.toastr.success("Cliente creado exitosamente","\xC9xito",{timeOut:3e3,positionClass:"toast-top-right"}),this.router.navigate(["/dashboard/client-dashboard/client-list"])},error:d=>{this.toastr.error("Error al crear el cliente: "+(d.error?.message||"Error desconocido"),"Error",{timeOut:3e3,positionClass:"toast-top-right"}),this.loading=!1}})}else this.toastr.warning("Por favor, complete todos los campos requeridos","Advertencia",{timeOut:3e3,positionClass:"toast-top-right"}),this.markFormGroupTouched()}onCancel(){this.router.navigate(["/dashboard/client-dashboard/client-list"])}markFormGroupTouched(){Object.keys(this.clienteForm.controls).forEach(s=>{this.clienteForm.get(s)?.markAsTouched()})}initializeFlatpickr(){this.flatpickrOptions={enableTime:!0,noCalendar:!0,dateFormat:"H:i"},S("#inlinetime",this.flatpickrOptions),this.flatpickrOptions={enableTime:!0,dateFormat:"Y-m-d H:i",defaultDate:"2023-11-07 14:30"},S("#pretime",this.flatpickrOptions)}};o.\u0275fac=function(d){return new(d||o)(f(R),f(L),f(k),f(A))},o.\u0275cmp=C({type:o,selectors:[["app-new-client"]],standalone:!0,features:[F([P]),_],decls:99,vars:11,consts:[[3,"title"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-12","col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fw-semibold"],[1,"col-md-6"],[1,"form-group"],[1,"form-label"],["type","text","placeholder","Ingrese el nombre","formControlName","nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["type","email","placeholder","Ingrese el correo electr\xF3nico","formControlName","correo",1,"form-control"],["type","text","placeholder","Ingrese el tel\xE9fono","formControlName","telefono",1,"form-control"],["type","text","placeholder","Ingrese el NIT","formControlName","nit",1,"form-control"],["name","attendance","placeholder","Seleccione el pa\xEDs",1,"form-control","p-0","custom-select"],["value","1"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["type","text","placeholder","Ingrese la ciudad",1,"form-control"],["type","text","placeholder","Ingrese el estado",1,"form-control"],["rows","3","placeholder","Direcci\xF3n","formControlName","direccion",1,"form-control"],[1,"custom-controls-stacked","d-md-flex","mt-3"],[1,"form-label","me-5"],[1,"form-check","mb-0","me-4"],["type","radio","name","flexRadioDefault0","id","flexRadioDefault01",1,"form-check-input"],["for","flexRadioDefault01",1,"form-check-label"],[1,"form-check","mb-0"],["type","radio","name","flexRadioDefault0","id","flexRadioDefault02",1,"form-check-input"],["for","flexRadioDefault02",1,"form-check-label"],[1,"card-footer","text-end"],["type","button",1,"btn","btn-danger","btn-lg","me-2",3,"click","disabled"],["type","submit",1,"btn","btn-success","btn-lg",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(d,n){if(d&1&&(r(0,"app-page-header",0),t(1,"form",1),E("ngSubmit",function(){return n.onSubmit()}),t(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),i(7,"Detalles del Cliente:"),e(),t(8,"div",2)(9,"div",7)(10,"div",8)(11,"label",9),i(12,"Nombre del Cliente *"),e(),r(13,"input",10),p(14,U,3,0,"div",11),e()(),t(15,"div",7)(16,"div",8)(17,"label",9),i(18,"Correo Electr\xF3nico *"),e(),r(19,"input",12),p(20,Y,3,0,"div",11),e()()(),t(21,"div",2)(22,"div",7)(23,"div",8)(24,"label",9),i(25,"Tel\xE9fono *"),e(),r(26,"input",13),p(27,J,3,0,"div",11),e()(),t(28,"div",7)(29,"div",8)(30,"label",9),i(31,"NIT *"),e(),r(32,"input",14),p(33,Q,3,0,"div",11),e()()(),t(34,"div",2)(35,"div",7)(36,"div",8)(37,"label",9),i(38,"Pa\xEDs"),e(),t(39,"ng-select",15)(40,"ng-option",16),i(41,"Alemania"),e(),t(42,"ng-option",17),i(43,"Canad\xE1"),e(),t(44,"ng-option",18),i(45,"Estados Unidos"),e(),t(46,"ng-option",19),i(47,"Afganist\xE1n"),e(),t(48,"ng-option",20),i(49,"Albania"),e(),t(50,"ng-option",21),i(51,"China"),e(),t(52,"ng-option",22),i(53,"Dinamarca"),e(),t(54,"ng-option",23),i(55,"Finlandia"),e(),t(56,"ng-option",24),i(57,"India"),e(),t(58,"ng-option",25),i(59,"Kiribati"),e(),t(60,"ng-option",26),i(61,"Kuwait"),e(),t(62,"ng-option",27),i(63,"M\xE9xico"),e(),t(64,"ng-option",28),i(65,"Pakist\xE1n"),e()()()()(),t(66,"div",2)(67,"div",7)(68,"div",8)(69,"label",9),i(70,"Ciudad"),e(),r(71,"input",29),e()(),t(72,"div",7)(73,"div",8)(74,"label",9),i(75,"Estado"),e(),r(76,"input",30),e()()(),t(77,"div",8)(78,"label",9),i(79,"Direcci\xF3n *"),e(),r(80,"textarea",31),p(81,W,3,0,"div",11),e(),t(82,"div",32)(83,"label",33),i(84,"Estado:"),e(),t(85,"div",34),r(86,"input",35),t(87,"label",36),i(88," Activo "),e()(),t(89,"div",37),r(90,"input",38),t(91,"label",39),i(92," Inactivo "),e()()()(),t(93,"div",40)(94,"button",41),E("click",function(){return n.onCancel()}),i(95,"Cerrar"),e(),t(96,"button",42),p(97,X,1,0,"span",43),i(98),e()()()()()()),d&2){let c,v,g,b,h;m("title","Nuevo Cliente"),a(),m("formGroup",n.clienteForm),a(13),m("ngIf",((c=n.clienteForm.get("nombre"))==null?null:c.invalid)&&((c=n.clienteForm.get("nombre"))==null?null:c.touched)),a(6),m("ngIf",((v=n.clienteForm.get("correo"))==null?null:v.invalid)&&((v=n.clienteForm.get("correo"))==null?null:v.touched)),a(7),m("ngIf",((g=n.clienteForm.get("telefono"))==null?null:g.invalid)&&((g=n.clienteForm.get("telefono"))==null?null:g.touched)),a(6),m("ngIf",((b=n.clienteForm.get("nit"))==null?null:b.invalid)&&((b=n.clienteForm.get("nit"))==null?null:b.touched)),a(48),m("ngIf",((h=n.clienteForm.get("direccion"))==null?null:h.invalid)&&((h=n.clienteForm.get("direccion"))==null?null:h.touched)),a(13),m("disabled",n.loading),a(2),m("disabled",n.loading),a(),m("ngIf",n.loading),a(),x(" ",n.loading?"Guardando...":"Guardar"," ")}},dependencies:[N,I,B,H,K,z,V,j,y,G,O,D,T,w,q,M]});let l=o;return l})();export{ue as NewClientComponent};
