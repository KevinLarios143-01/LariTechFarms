import{a as P}from"./chunk-5NXGHONX.js";import"./chunk-USS2N3RB.js";import{c as w,n as D}from"./chunk-FYZLZUO4.js";import"./chunk-KAKXLQQZ.js";import"./chunk-Q4N2GC3M.js";import"./chunk-GNT7AIZA.js";import"./chunk-27TGOTIH.js";import"./chunk-BJ65GJZA.js";import{Kb as g,Mc as _,Qa as n,Ra as u,Tc as C,Wb as i,Wc as T,Xb as l,Yb as S,db as f,dc as b,jb as c,la as E,nb as h,nc as p,oc as v,od as L,pc as y,wb as t,xb as e,yb as r,yc as I}from"./chunk-W3KPMJ6O.js";import"./chunk-REZWHGN7.js";function M(d,m){if(d&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",2)(5,"div",6)(6,"div",7)(7,"span",8),i(8,"Total Lotes"),e(),t(9,"h3",9),i(10),e()()(),t(11,"div",10)(12,"div",11),r(13,"i",12),e()()()()()(),t(14,"div",3)(15,"div",4)(16,"div",5)(17,"div",2)(18,"div",6)(19,"div",7)(20,"span",8),i(21,"Cantidad Total"),e(),t(22,"h3",13),i(23),p(24,"number"),e()()(),t(25,"div",10)(26,"div",14),r(27,"i",15),e()()()()()(),t(28,"div",3)(29,"div",4)(30,"div",5)(31,"div",2)(32,"div",6)(33,"div",7)(34,"span",8),i(35,"Promedio por Lote"),e(),t(36,"h3",16),i(37),p(38,"number"),e()()(),t(39,"div",10)(40,"div",17),r(41,"i",18),e()()()()()(),t(42,"div",3)(43,"div",4)(44,"div",5)(45,"div",2)(46,"div",6)(47,"div",7)(48,"span",8),i(49,"Lotes Activos"),e(),t(50,"h3",9),i(51),e()()(),t(52,"div",10)(53,"div",11),r(54,"i",19),e()()()()()()()),d&2){let a=g();n(10),l((a.stats==null?null:a.stats.totalLotes)||0),n(13),l(v(24,4,a.stats==null?null:a.stats.cantidadTotal)||0),n(14),l(y(38,6,a.stats==null?null:a.stats.promedioCantidad,"1.0-0")||0),n(14),l(a.getEstadoStats("Activo")._count.id)}}function j(d,m){if(d&1&&(t(0,"div",2)(1,"div",20)(2,"div",4)(3,"div",21)(4,"h4",22),i(5,"Lotes por Tipo"),e()(),t(6,"div",5)(7,"div",2)(8,"div",23)(9,"div",24)(10,"div",25)(11,"div",26),r(12,"i",27),e(),t(13,"h4",28),i(14),e(),t(15,"p",29),i(16,"Lotes Ponedoras"),e(),t(17,"p",30),i(18),p(19,"number"),e()()()(),t(20,"div",23)(21,"div",31)(22,"div",25)(23,"div",26),r(24,"i",32),e(),t(25,"h4",33),i(26),e(),t(27,"p",29),i(28,"Lotes Engorde"),e(),t(29,"p",30),i(30),p(31,"number"),e()()()()()()()(),t(32,"div",20)(33,"div",4)(34,"div",21)(35,"h4",22),i(36,"Lotes por Estado"),e()(),t(37,"div",5)(38,"div",2)(39,"div",34)(40,"div",35)(41,"div",25)(42,"div",26),r(43,"i",36),e(),t(44,"h5",37),i(45),e(),t(46,"p",38),i(47,"Activos"),e()()()(),t(48,"div",34)(49,"div",39)(50,"div",25)(51,"div",26),r(52,"i",40),e(),t(53,"h5",41),i(54),e(),t(55,"p",38),i(56,"Inactivos"),e()()()(),t(57,"div",34)(58,"div",42)(59,"div",25)(60,"div",26),r(61,"i",43),e(),t(62,"h5",44),i(63),e(),t(64,"p",38),i(65,"Desalojados"),e()()()()()()()()()),d&2){let a=g();n(14),l(a.getTipoStats("Ponedoras")._count.id),n(4),S("",v(19,7,a.getTipoStats("Ponedoras")._sum.cantidad)||0," aves"),n(8),l(a.getTipoStats("Engorde")._count.id),n(4),S("",v(31,9,a.getTipoStats("Engorde")._sum.cantidad)||0," aves"),n(15),l(a.getEstadoStats("Activo")._count.id),n(9),l(a.getEstadoStats("Inactivo")._count.id),n(9),l(a.getEstadoStats("Desalojado")._count.id)}}function A(d,m){d&1&&(t(0,"div",2)(1,"div",45)(2,"div",4)(3,"div",46)(4,"div",47)(5,"span",48),i(6,"Cargando..."),e()(),t(7,"p",49),i(8,"Cargando estad\xEDsticas..."),e()()()()())}var V=(()=>{let m=class m{constructor(s,o){this.lotesService=s,this.cdr=o,this.loading=!1,this.stats=null}ngOnInit(){this.loadStats()}loadStats(){this.loading=!0,this.lotesService.getStats().subscribe({next:s=>{this.stats=s.data,this.loading=!1,this.cdr.detectChanges()},error:s=>{console.error("Error al cargar estad\xEDsticas:",s),this.loading=!1,this.cdr.detectChanges()}})}getTipoStats(s){return this.stats?.lotesPorTipo?.find(o=>o.tipo===s)||{_count:{id:0},_sum:{cantidad:0}}}getEstadoStats(s){return this.stats?.lotesPorEstado?.find(o=>o.estado===s)||{_count:{id:0}}}};m.\u0275fac=function(o){return new(o||m)(u(P),u(I))},m.\u0275cmp=E({type:m,selectors:[["app-estadisticas"]],standalone:!0,features:[b],decls:4,vars:9,consts:[[3,"title","title2","class1","path"],["class","row",4,"ngIf"],[1,"row"],[1,"col-xl-3","col-lg-6","col-md-6"],[1,"card","custom-card"],[1,"card-body"],[1,"col-7"],[1,"mt-0","text-start"],[1,"fw-medium"],[1,"mb-0","mt-1","text-success"],[1,"col-5"],[1,"icon1","bg-success-transparent","my-auto","float-end"],[1,"las","la-layer-group"],[1,"mb-0","mt-1","text-primary"],[1,"icon1","bg-primary-transparent","my-auto","float-end"],[1,"las","la-calculator"],[1,"mb-0","mt-1","text-info"],[1,"icon1","bg-info-transparent","my-auto","float-end"],[1,"las","la-chart-bar"],[1,"las","la-check-circle"],[1,"col-xl-6"],[1,"card-header"],[1,"card-title"],[1,"col-md-6"],[1,"card","bg-info-transparent"],[1,"card-body","text-center"],[1,"mb-2"],[1,"las","la-egg","fs-40","text-info"],[1,"mb-1","text-info"],[1,"mb-1","fw-semibold"],[1,"mb-0","text-muted"],[1,"card","bg-primary-transparent"],[1,"las","la-drumstick-bite","fs-40","text-primary"],[1,"mb-1","text-primary"],[1,"col-md-4"],[1,"card","bg-success-transparent"],[1,"las","la-check-circle","fs-30","text-success"],[1,"mb-1","text-success"],[1,"mb-0","fw-semibold"],[1,"card","bg-warning-transparent"],[1,"las","la-pause-circle","fs-30","text-warning"],[1,"mb-1","text-warning"],[1,"card","bg-danger-transparent"],[1,"las","la-times-circle","fs-30","text-danger"],[1,"mb-1","text-danger"],[1,"col-12"],[1,"card-body","text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"]],template:function(o,x){o&1&&(r(0,"app-hr-dashboard-page-header",0),f(1,M,55,9,"div",1)(2,j,66,11,"div",1)(3,A,9,0,"div",1)),o&2&&(h("btn btn-secondary"),c("title","Estad\xEDsticas de Lotes")("title2","Volver a Lista")("class1","")("path","/dashboard/business-dashboard/lotes"),n(),c("ngIf",!x.loading),n(),c("ngIf",!x.loading),n(),c("ngIf",x.loading))},dependencies:[T,_,C,D,w,L]});let d=m;return d})();export{V as EstadisticasComponent};
