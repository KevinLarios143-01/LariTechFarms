import{a as le}from"./chunk-ZHZ6JAOD.js";import"./chunk-IORNA22M.js";import{c as te,n as oe}from"./chunk-FG6B37U2.js";import"./chunk-S5Y45Y7X.js";import"./chunk-35J6RYA3.js";import{r as ee}from"./chunk-P6RHK3TE.js";import"./chunk-LAI4YRFV.js";import{c as H,e as c,g as R,h as z,m as B,n as J,p as K,q as Q,r as U,s as W,t as X,u as Y,w as Z,y as $}from"./chunk-I6FKYEZO.js";import{Ib as G,Kb as g,Qa as r,Ra as _,Wb as l,db as u,dc as j,jb as D,kd as w,la as L,lb as v,nb as V,rb as d,wb as i,xb as e,yb as s}from"./chunk-W3KPMJ6O.js";import"./chunk-REZWHGN7.js";function ie(t,a){t&1&&l(0," El nombre es requerido ")}function ne(t,a){t&1&&l(0," El nombre debe tener al menos 2 caracteres ")}function re(t,a){if(t&1&&(i(0,"div",12),u(1,ie,1,0)(2,ne,1,0),e()),t&2){let p,n,m=g();r(),d(!((p=m.employeeForm.get("nombre"))==null||p.errors==null)&&p.errors.required?1:-1),r(),d(!((n=m.employeeForm.get("nombre"))==null||n.errors==null)&&n.errors.minlength?2:-1)}}function ae(t,a){t&1&&l(0," El apellido es requerido ")}function me(t,a){t&1&&l(0," El apellido debe tener al menos 2 caracteres ")}function de(t,a){if(t&1&&(i(0,"div",12),u(1,ae,1,0)(2,me,1,0),e()),t&2){let p,n,m=g();r(),d(!((p=m.employeeForm.get("apellido"))==null||p.errors==null)&&p.errors.required?1:-1),r(),d(!((n=m.employeeForm.get("apellido"))==null||n.errors==null)&&n.errors.minlength?2:-1)}}function pe(t,a){t&1&&l(0," El email es requerido ")}function ue(t,a){t&1&&l(0," Ingrese un email v\xE1lido ")}function ce(t,a){if(t&1&&(i(0,"div",12),u(1,pe,1,0)(2,ue,1,0),e()),t&2){let p,n,m=g();r(),d(!((p=m.employeeForm.get("correo"))==null||p.errors==null)&&p.errors.required?1:-1),r(),d(!((n=m.employeeForm.get("correo"))==null||n.errors==null)&&n.errors.email?2:-1)}}function se(t,a){t&1&&(i(0,"div",12),l(1," El tel\xE9fono es requerido "),e())}function ve(t,a){t&1&&(i(0,"div",12),l(1," El puesto es requerido "),e())}function fe(t,a){t&1&&(i(0,"div",12),l(1," La fecha de contrataci\xF3n es requerida "),e())}function _e(t,a){t&1&&l(0," El salario es requerido ")}function ge(t,a){t&1&&l(0," El salario debe ser mayor a 0 ")}function Ce(t,a){if(t&1&&(i(0,"div",12),u(1,_e,1,0)(2,ge,1,0),e()),t&2){let p,n,m=g();r(),d(!((p=m.employeeForm.get("salario"))==null||p.errors==null)&&p.errors.required?1:-1),r(),d(!((n=m.employeeForm.get("salario"))==null||n.errors==null)&&n.errors.min?2:-1)}}function Ee(t,a){t&1&&(i(0,"div",12),l(1," Seleccione un g\xE9nero "),e())}function he(t,a){t&1&&(i(0,"div",12),l(1," Seleccione un tipo de contrato "),e())}function be(t,a){t&1&&(s(0,"span",50),l(1," Guardando... "))}function ye(t,a){t&1&&l(0," Guardar Empleado ")}var Me=(()=>{let a=class a{constructor(n,m,o,f){this.fb=n,this.router=m,this.empleadoService=o,this.toastr=f,this.isLoading=!1}ngOnInit(){this.initForm()}initForm(){this.employeeForm=this.fb.group({nombre:["",[c.required,c.minLength(2)]],apellido:["",[c.required,c.minLength(2)]],correo:["",[c.required,c.email]],telefono:["",[c.required]],puesto:["",[c.required]],departamento:[""],fechaContratacion:["",[c.required]],salario:["",[c.required,c.min(0)]],genero:["",[c.required]],estadoCivil:[""],direccion:[""],tipoContrato:["",[c.required]]})}onSubmit(){this.employeeForm.valid?(this.isLoading=!0,this.empleadoService.createEmpleado(this.employeeForm.value).subscribe({next:n=>{this.toastr.success("Empleado creado exitosamente","\xC9xito",{timeOut:3e3,positionClass:"toast-top-right"}),this.router.navigate(["/dashboard/hrmdashboards/employees/employee-list"])},error:n=>{console.error("Error al crear empleado:",n);let m="Error desconocido";n.error?.message?m=n.error.message:n.error?.error?m=n.error.error:n.message?m=n.message:typeof n.error=="string"&&(m=n.error),this.toastr.error("Error al crear empleado: "+m,"Error",{timeOut:3e3,positionClass:"toast-top-right"}),this.isLoading=!1}})):(this.toastr.warning("Por favor, complete todos los campos requeridos","Advertencia",{timeOut:3e3,positionClass:"toast-top-right"}),this.markFormGroupTouched())}onCancel(){this.router.navigate(["/dashboard/hrmdashboards/employees/employee-list"])}markFormGroupTouched(){Object.keys(this.employeeForm.controls).forEach(n=>{this.employeeForm.get(n)?.markAsTouched()})}};a.\u0275fac=function(m){return new(m||a)(_(Z),_(w),_(le),_(ee))},a.\u0275cmp=L({type:a,selectors:[["app-add-empleado"]],standalone:!0,features:[j],decls:119,vars:36,consts:[[3,"title","title2","class1","path"],[1,"row"],[1,"col-xl-12"],[1,"card","custom-card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"col-md-6"],[1,"form-group","mb-3"],["for","nombre",1,"form-label"],["type","text","formControlName","nombre","placeholder","Ingrese el nombre",1,"form-control"],[1,"invalid-feedback","d-block"],["for","apellido",1,"form-label"],["type","text","formControlName","apellido","placeholder","Ingrese el apellido",1,"form-control"],["for","correo",1,"form-label"],["type","email","formControlName","correo","placeholder","empleado@ejemplo.com",1,"form-control"],["for","telefono",1,"form-label"],["type","text","formControlName","telefono","placeholder","Ingrese el tel\xE9fono",1,"form-control"],["for","puesto",1,"form-label"],["type","text","formControlName","puesto","placeholder","Ingrese el puesto",1,"form-control"],["for","departamento",1,"form-label"],["type","text","formControlName","departamento","placeholder","Ingrese el departamento",1,"form-control"],["for","fechaContratacion",1,"form-label"],["type","date","formControlName","fechaContratacion",1,"form-control"],["for","salario",1,"form-label"],["type","number","formControlName","salario","placeholder","0.00","min","0","step","0.01",1,"form-control"],["for","genero",1,"form-label"],["formControlName","genero",1,"form-control"],["value",""],["value","M"],["value","F"],["value","Otro"],["for","tipoContrato",1,"form-label"],["formControlName","tipoContrato",1,"form-control"],["value","Tiempo Completo"],["value","Medio Tiempo"],["value","Temporal"],["value","Contrato"],["for","estadoCivil",1,"form-label"],["formControlName","estadoCivil",1,"form-control"],["value","Soltero"],["value","Casado"],["value","Divorciado"],["value","Viudo"],["for","direccion",1,"form-label"],["formControlName","direccion","rows","3","placeholder","Ingrese la direcci\xF3n",1,"form-control"],[1,"col-12"],["type","submit",1,"btn","btn-primary","me-2",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(m,o){if(m&1&&(s(0,"app-hr-dashboard-page-header",0),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),l(6,"Informaci\xF3n del Empleado"),e()(),i(7,"div",6)(8,"form",7),G("ngSubmit",function(){return o.onSubmit()}),i(9,"div",1)(10,"div",8)(11,"div",9)(12,"label",10),l(13,"Nombre *"),e(),s(14,"input",11),u(15,re,3,2,"div",12),e()(),i(16,"div",8)(17,"div",9)(18,"label",13),l(19,"Apellido *"),e(),s(20,"input",14),u(21,de,3,2,"div",12),e()()(),i(22,"div",1)(23,"div",8)(24,"div",9)(25,"label",15),l(26,"Email *"),e(),s(27,"input",16),u(28,ce,3,2,"div",12),e()(),i(29,"div",8)(30,"div",9)(31,"label",17),l(32,"Tel\xE9fono *"),e(),s(33,"input",18),u(34,se,2,0,"div",12),e()()(),i(35,"div",1)(36,"div",8)(37,"div",9)(38,"label",19),l(39,"Puesto *"),e(),s(40,"input",20),u(41,ve,2,0,"div",12),e()(),i(42,"div",8)(43,"div",9)(44,"label",21),l(45,"Departamento"),e(),s(46,"input",22),e()()(),i(47,"div",1)(48,"div",8)(49,"div",9)(50,"label",23),l(51,"Fecha de Contrataci\xF3n *"),e(),s(52,"input",24),u(53,fe,2,0,"div",12),e()(),i(54,"div",8)(55,"div",9)(56,"label",25),l(57,"Salario *"),e(),s(58,"input",26),u(59,Ce,3,2,"div",12),e()()(),i(60,"div",1)(61,"div",8)(62,"div",9)(63,"label",27),l(64,"G\xE9nero *"),e(),i(65,"select",28)(66,"option",29),l(67,"Seleccione un g\xE9nero"),e(),i(68,"option",30),l(69,"Masculino"),e(),i(70,"option",31),l(71,"Femenino"),e(),i(72,"option",32),l(73,"Otro"),e()(),u(74,Ee,2,0,"div",12),e()(),i(75,"div",8)(76,"div",9)(77,"label",33),l(78,"Tipo de Contrato *"),e(),i(79,"select",34)(80,"option",29),l(81,"Seleccione un tipo"),e(),i(82,"option",35),l(83,"Tiempo Completo"),e(),i(84,"option",36),l(85,"Medio Tiempo"),e(),i(86,"option",37),l(87,"Temporal"),e(),i(88,"option",38),l(89,"Por Contrato"),e()(),u(90,he,2,0,"div",12),e()()(),i(91,"div",1)(92,"div",8)(93,"div",9)(94,"label",39),l(95,"Estado Civil"),e(),i(96,"select",40)(97,"option",29),l(98,"Seleccione un estado"),e(),i(99,"option",41),l(100,"Soltero"),e(),i(101,"option",42),l(102,"Casado"),e(),i(103,"option",43),l(104,"Divorciado"),e(),i(105,"option",44),l(106,"Viudo"),e()()()(),i(107,"div",8)(108,"div",9)(109,"label",45),l(110,"Direcci\xF3n"),e(),s(111,"textarea",46),e()()(),i(112,"div",1)(113,"div",47)(114,"button",48),u(115,be,2,0)(116,ye,1,0),e(),i(117,"button",49),G("click",function(){return o.onCancel()}),l(118," Cancelar "),e()()()()()()()()),m&2){let f,C,E,h,b,y,F,S,x,T,A,q,N,P,M,O,I,k;V("btn btn-secondary"),D("title","Agregar Empleado")("title2","Volver a Lista")("class1","")("path","/dashboard/hrmdashboards/employees/employee-list"),r(8),D("formGroup",o.employeeForm),r(6),v("is-invalid",((f=o.employeeForm.get("nombre"))==null?null:f.invalid)&&((f=o.employeeForm.get("nombre"))==null?null:f.touched)),r(),d((C=o.employeeForm.get("nombre"))!=null&&C.invalid&&((C=o.employeeForm.get("nombre"))!=null&&C.touched)?15:-1),r(5),v("is-invalid",((E=o.employeeForm.get("apellido"))==null?null:E.invalid)&&((E=o.employeeForm.get("apellido"))==null?null:E.touched)),r(),d((h=o.employeeForm.get("apellido"))!=null&&h.invalid&&((h=o.employeeForm.get("apellido"))!=null&&h.touched)?21:-1),r(6),v("is-invalid",((b=o.employeeForm.get("correo"))==null?null:b.invalid)&&((b=o.employeeForm.get("correo"))==null?null:b.touched)),r(),d((y=o.employeeForm.get("correo"))!=null&&y.invalid&&((y=o.employeeForm.get("correo"))!=null&&y.touched)?28:-1),r(5),v("is-invalid",((F=o.employeeForm.get("telefono"))==null?null:F.invalid)&&((F=o.employeeForm.get("telefono"))==null?null:F.touched)),r(),d((S=o.employeeForm.get("telefono"))!=null&&S.invalid&&((S=o.employeeForm.get("telefono"))!=null&&S.touched)?34:-1),r(6),v("is-invalid",((x=o.employeeForm.get("puesto"))==null?null:x.invalid)&&((x=o.employeeForm.get("puesto"))==null?null:x.touched)),r(),d((T=o.employeeForm.get("puesto"))!=null&&T.invalid&&((T=o.employeeForm.get("puesto"))!=null&&T.touched)?41:-1),r(11),v("is-invalid",((A=o.employeeForm.get("fechaContratacion"))==null?null:A.invalid)&&((A=o.employeeForm.get("fechaContratacion"))==null?null:A.touched)),r(),d((q=o.employeeForm.get("fechaContratacion"))!=null&&q.invalid&&((q=o.employeeForm.get("fechaContratacion"))!=null&&q.touched)?53:-1),r(5),v("is-invalid",((N=o.employeeForm.get("salario"))==null?null:N.invalid)&&((N=o.employeeForm.get("salario"))==null?null:N.touched)),r(),d((P=o.employeeForm.get("salario"))!=null&&P.invalid&&((P=o.employeeForm.get("salario"))!=null&&P.touched)?59:-1),r(6),v("is-invalid",((M=o.employeeForm.get("genero"))==null?null:M.invalid)&&((M=o.employeeForm.get("genero"))==null?null:M.touched)),r(9),d((O=o.employeeForm.get("genero"))!=null&&O.invalid&&((O=o.employeeForm.get("genero"))!=null&&O.touched)?74:-1),r(5),v("is-invalid",((I=o.employeeForm.get("tipoContrato"))==null?null:I.invalid)&&((I=o.employeeForm.get("tipoContrato"))==null?null:I.touched)),r(11),d((k=o.employeeForm.get("tipoContrato"))!=null&&k.invalid&&((k=o.employeeForm.get("tipoContrato"))!=null&&k.touched)?90:-1),r(24),D("disabled",o.employeeForm.invalid||o.isLoading),r(),d(o.isLoading?115:116)}},dependencies:[oe,te,$,B,W,X,H,J,U,R,z,Y,K,Q],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.invalid-feedback[_ngcontent-%COMP%]{display:block;color:#dc3545;font-size:.875rem;margin-top:.25rem}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}"]});let t=a;return t})();export{Me as AddEmpleadoComponent};
