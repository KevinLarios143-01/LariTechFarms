import{a as ke}from"./chunk-5FOQXT5P.js";import{b as xe,n as Ce}from"./chunk-OWDMUGTF.js";import{a as Ee,b as _e,c as Ae}from"./chunk-SNUM6ZIL.js";import"./chunk-UIBHGIJB.js";import"./chunk-P6RHK3TE.js";import{a as P,b as be,c as Se,d as fe}from"./chunk-5ILM3463.js";import{$ as he,M as de,W as pe,X as ue,_ as ge,c as oe,ca as ve,g as se,l as le,x as ce,y as me}from"./chunk-MN5F6KP3.js";import{$ as w,$b as x,Cb as T,Hc as ne,I as F,Ib as b,K as B,Kb as D,Nb as W,Pc as ie,Qa as d,Qb as Y,Ra as S,Rb as q,Sb as G,Tc as k,Vb as X,Wb as n,Wc as re,X as z,_b as I,ac as E,bc as _,cc as Z,d as O,db as M,dc as K,e as f,ea as L,ha as j,jb as v,la as N,nb as H,nc as A,o as V,ob as J,oc as C,od as ae,rb as R,rc as ee,sb as Q,ua as g,ub as $,va as h,vb as U,wb as t,xb as e,yb as p,yc as te}from"./chunk-W3KPMJ6O.js";import"./chunk-REZWHGN7.js";var ye=[{date:"20-01-2021",status:"success",statusText:"Present",clockIn:"09:35 AM",clockOut:"06:55 PM",progressStatus:"success",progress:100,hours:"09h :10 mins"},{date:"19-01-2021",status:"success",statusText:"Present",clockIn:"09:30 AM",clockOut:"06:30 PM",progressStatus:"success",progress:100,hours:"09h :00 mins"},{date:"18-01-2021",status:"danger",statusText:"Absent",clockIn:"00:00 AM",clockOut:"00:00 PM",progressStatus:"danger",progress:0,hours:"09h :10 mins"},{date:"17-01-2021",status:"success",statusText:"Present",clockIn:"09:35 AM",clockOut:"06:55 PM",progressStatus:"success",progress:100,hours:"09h :10 mins"},{date:"16-01-2021",status:"warning",statusText:"Late",clockIn:"10:35 AM",clockOut:"6:30 PM",progressStatus:"warning",progress:85,hours:"09h :10 mins"},{date:"15-01-2021",status:"success",statusText:"Present",clockIn:"09:35 AM",clockOut:"6:30 PM",progressStatus:"success",progress:100,hours:"09h :10 mins"},{date:"14-01-2021",status:"warning",statusText:"Late",clockIn:"11:30 AM",clockOut:"6:35 PM",progressStatus:"warning",progress:70,hours:"09h :10 mins"},{date:"13-01-2021",status:"success",statusText:"Present",clockIn:"09:35 AM",clockOut:"6:30 PM",progressStatus:"success",progress:100,hours:"09h :10 mins"},{date:"12-01-2021",status:"success",statusText:"Present",clockIn:"00:00  AM",clockOut:"00:00  PM",progressStatus:"success",progress:100,hours:"00h :00 mins"},{date:"11-01-2021",status:"danger",statusText:"Absent",clockIn:"09:35 AM",clockOut:"06:55 PM",progressStatus:"danger",progress:0,hours:"09h :10 mins"},{date:"10-01-2021",status:"danger",statusText:"Absent",clockIn:"00:00 AM",clockOut:"00:00 PM",progressStatus:"danger",progress:0,hours:"09h :10 mins"},{date:"09-01-2021",status:"success",statusText:"Present",clockIn:"9:30 AM",clockOut:"6:30 PM",progressStatus:"success",progress:100,hours:"09h :0 mins"},{date:"08-01-2021",status:"success",statusText:"Present",clockIn:"9:32 AM",clockOut:"6:30 PM",progressStatus:"success",progress:100,hours:"09h :0 mins"},{date:"07-01-2021",status:"success",statusText:"Present",clockIn:"9:30 AM",clockOut:"6:30 PM",progressStatus:"success",progress:100,hours:"09h :0 mins"},{date:"06-01-2021",status:"success",statusText:"Present",clockIn:"9:30 AM",clockOut:"6:30 PM",progressStatus:"success",progress:100,hours:"09h :0 mins"}];var Ie=(s,o)=>s<o?-1:s>o?1:0;function Pe(s,o,c){return c===""||o===""?s:[...s].sort((r,l)=>{let i=Ie(r[o],l[o]);return c==="asc"?i:-i})}function Oe(s,o,c){return s.date.toLowerCase().includes(o.toLowerCase())||s.status.toLowerCase().includes(o.toLowerCase())||s.clockIn.toLowerCase().includes(o.toLowerCase())||s.clockOut.toLowerCase().includes(o.toLowerCase())||s.hours.toLowerCase().includes(o.toLowerCase())}var y=(()=>{let o=class o{constructor(r){this.pipe=r,this._loading$=new f(!0),this._search$=new O,this._employeeAttendanceData$=new f([]),this._total$=new f(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe(w(()=>this._loading$.next(!0)),F(200),z(()=>this._search()),B(200),w(()=>this._loading$.next(!1))).subscribe(l=>{this._employeeAttendanceData$.next(l.employeeAttendanceData),this._total$.next(l.total)}),this._search$.next()}get employeeAttendanceData$(){return this._employeeAttendanceData$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(r){this._set({page:r})}set pageSize(r){this._set({pageSize:r})}set searchTerm(r){this._set({searchTerm:r})}set sortColumn(r){this._set({sortColumn:r})}set sortDirection(r){this._set({sortDirection:r})}_set(r){Object.assign(this._state,r),this._search$.next()}_search(){let{sortColumn:r,sortDirection:l,pageSize:i,page:m,searchTerm:u}=this._state,a=Pe(ye,r,l);a=a.filter(Me=>Oe(Me,u,this.pipe));let we=a.length;return a=a.slice((m-1)*i,(m-1)*i+i),V({employeeAttendanceData:a,total:we})}};o.\u0275fac=function(l){return new(l||o)(j(k))},o.\u0275prov=L({token:o,factory:o.\u0275fac,providedIn:"root"});let s=o;return s})();function Fe(s,o){s&1&&(t(0,"span"),n(1,"Loading..."),e())}function Be(s,o){if(s&1&&(t(0,"tr")(1,"td"),p(2,"ngb-highlight",92),e(),t(3,"td")(4,"span"),n(5,"Present"),e()(),t(6,"td"),p(7,"ngb-highlight",92),e(),t(8,"td"),p(9,"ngb-highlight",92),e(),t(10,"td"),p(11,"ngb-progressbar",93),e(),t(12,"td"),p(13,"ngb-highlight",92),e()()),s&2){let c=o.$implicit,r=D();d(2),v("result",c.date)("term",r.service.searchTerm),d(2),J("badge bg-",c.status,""),d(3),v("result",c.clockIn)("term",r.service.searchTerm),d(2),v("result",c.clockOut)("term",r.service.searchTerm),d(2),W("type",c.progressStatus),v("value",c.progress),d(2),H(c.statusBg),v("result",c.hours)("term",r.service.searchTerm)}}function ze(s,o){if(s&1){let c=T();t(0,"div",94)(1,"h6",95),p(2,"span",96),n(3,"Clock In"),e(),t(4,"button",97),b("click",function(){let l=g(c).$implicit;return h(l.close("cross click"))}),e()(),t(5,"div",98)(6,"div",99),n(7),e(),t(8,"div",47)(9,"label",26),n(10,"Note:"),e(),t(11,"textarea",100),n(12,"Some text here..."),e()()(),t(13,"div",101)(14,"button",102),b("click",function(){let l=g(c).$implicit;return h(l.close("cross click"))}),n(15,"Close"),e(),t(16,"button",103),n(17,"Clock In"),e()()}if(s&2){let c=D();d(7),I("",c.hours,":",c.minutes,":",c.seconds,"")}}var it=(()=>{let o=class o{constructor(r,l,i,m,u){this.service=r,this.dialog=l,this.document=i,this.modalService=m,this.cdr=u,this.futureDate=new Date,this.inlineDatePicker=!1,this.flatpickrOptions={inline:!0},this.employeeAttendance$=r.employeeAttendanceData$,this.total$=r.total$,this.futureDate.setDate(this.futureDate.getDate()+2),this.startDate=new Date("Dec 1, 2023 00:00:00").getTime()}open(r){this.modalService.open(r,{windowClass:"modalCusSty"})}onSort({column:r,direction:l}){this.headers.forEach(i=>{i.sortable!==r&&(i.direction="")}),this.service.sortColumn=r,this.service.sortDirection=l}ngOnInit(){let r=setInterval(()=>{let i=new Date().getTime()-this.startDate;this.days=Math.floor(i/864e5),this.hours=Math.floor(i%864e5/36e5),this.minutes=Math.floor(i%36e5/6e4),this.seconds=Math.floor(i%6e4/1e3),this.cdr.detectChanges()},1e3);this.flatpickrOptions={enableTime:!0,noCalendar:!0,dateFormat:"H:i"},P("#inlinetime",this.flatpickrOptions),this.flatpickrOptions={enableTime:!0,dateFormat:"Y-m-d H:i",defaultDate:"2023-11-07 14:30"},P("#pretime",this.flatpickrOptions)}};o.\u0275fac=function(l){return new(l||o)(S(y),S(xe),S(ne),S(de),S(te))},o.\u0275cmp=N({type:o,selectors:[["app-attendance"]],viewQuery:function(l,i){if(l&1&&Y(ke,5),l&2){let m;q(m=G())&&(i.headers=m)}},standalone:!0,features:[Z([y,k,be]),K],decls:224,vars:19,consts:[["content",""],[1,"page-header","d-lg-flex","d-block"],[1,"page-leftheader"],[1,"page-title"],[1,"page-rightheader"],[1,"d-flex","align-items-center","flex-wrap","my-auto","end-content","breadcrumb-end","gap-2"],[1,"header-datepicker","me-1"],[1,"form-group","mb-0"],[1,"input-group"],[1,"input-group-text"],[1,"fe","fe-calendar"],["type","text","mwlFlatpickr","","placeholder","19 Feb 2020",1,"form-control","choose-date"],[1,"d-flex","gap-2"],["data-bs-toggle","modal","data-bs-target","#clockinmodal",1,"btn","btn-primary",3,"click"],["data-bs-toggle","tooltip","placement","top","ngbTooltip","E-mail",1,"btn","btn-light3"],[1,"fe","fe-mail"],["placement","top","data-bs-toggle","tooltip","ngbTooltip","Contact",1,"btn","btn-light3"],[1,"fe","fe-phone-call"],["placement","top","data-bs-toggle","tooltip","ngbTooltip","Info",1,"btn","btn-primary"],[1,"fe","fe-info"],[1,"row"],[1,"col-xl-3","col-md-12","col-lg-12"],[1,"card","custom-card"],[1,"card-body"],[1,"countdowntimer","mt-0","text-center"],[1,"d-flex","justify-content-center","fs-30","digital-clock","mb-1"],[1,"form-label"],[1,"btn-list","text-center","mt-3"],["href","javascript:;",1,"btn","ripple","btn-primary","disabled","me-2"],["href","javascript:;",1,"btn","ripple","btn-primary"],[1,"col-xl-9","col-md-12","col-lg-12"],[1,"card-header","border-0"],[1,"card-title"],[1,"card-body","pt-0","pb-3"],[1,"row","mb-0","pb-0"],[1,"col-md-6","col-xl-2","text-center","py-3"],[1,"avatar","avatar-md","bradius","fs-20","bg-primary-transparent"],[1,"mb-0","mt-3"],[1,"avatar","avatar-md","bradius","fs-20","bg-success-transparent"],[1,"avatar","avatar-md","bradius","fs-20","bg-danger-transparent"],[1,"avatar","avatar-md","bradius","fs-20","bg-warning-transparent"],[1,"avatar","avatar-md","bradius","fs-20","bg-orange-transparent"],[1,"avatar","avatar-md","bradius","fs-20","bg-pink-transparent"],[1,"col-xl-12","col-md-12","col-lg-12"],[1,"col-md-12","col-lg-12","col-xl-5"],[1,"col-md-6"],[1,"form-group","mb-3"],[1,"form-group"],["type","text","mwlFlatpickr","","placeholder","20 Apr 2021",1,"form-control","choose-date"],[1,"col-md-12","col-lg-12","col-xl-3"],["name","attendance","data-trigger","","placeholder","Select Month",1,"form-control","custom-select","p-0"],["value",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],[1,"col-md-12","col-lg-12","col-xl-2"],["name","attendance","data-trigger","","placeholder","Select Year",1,"form-control","custom-select","p-0"],["value","13"],["value","14"],["value","15"],["value","16"],[1,"form-group","mt-2"],["href","javascript:void(0);",1,"btn","btn-primary","d-grid"],[1,"card-body","border-top"],[1,"row","mb-2","gap-1","gap-lg-0"],[1,"col-lg-6"],[1,"d-flex","align-items-center"],[1,"d-flex","ms-2","mx-2"],["name","quantity","id","select-countries17","data-trigger","",1,"form-control","wd-150","p-0",3,"ngModelChange","ngModel"],["selected","",3,"value"],[3,"value"],[1,"float-end"],["type","text","placeholder","search","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","text-nowrap","table-bordered"],["scope","col","sortable","date",1,"border-bottom-0",3,"sort"],["scope","col","sortable","status",1,"border-bottom-0",3,"sort"],["scope","col","sortable","clockIn",1,"border-bottom-0",3,"sort"],["scope","col","sortable","clockOut",1,"border-bottom-0",3,"sort"],["scope","col","sortable","progress",1,"border-bottom-0",3,"sort"],["scope","col","sortable","hours",1,"border-bottom-0",3,"sort"],[1,"float-end","mt-4"],[3,"pageChange","collectionSize","page","pageSize"],[3,"result","term"],["height","0.5rem",3,"type","value"],[1,"modal-header"],["id","exampleModalLabel1",1,"modal-title"],[1,"fe","fe-clock","me-1"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mt-3","d-flex","justify-content-center","fs-30","digital-clock"],["rows","3",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-primary"]],template:function(l,i){if(l&1){let m=T();t(0,"div",1)(1,"div",2)(2,"div",3),n(3,"Attendance"),e()(),t(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),p(10,"i",10),e(),p(11,"input",11),e()()(),t(12,"div",12)(13,"a",13),b("click",function(){g(m);let a=X(223);return h(i.open(a))}),n(14,"Clock In"),e(),t(15,"button",14),p(16,"i",15),e(),t(17,"button",16),p(18,"i",17),e(),t(19,"button",18),p(20,"i",19),e()()()()(),t(21,"div",20)(22,"div",21)(23,"div",22)(24,"div",23)(25,"div",24)(26,"span",25),n(27),e(),t(28,"label",26),n(29,"Current Time"),e()(),t(30,"div",27)(31,"a",28),n(32,"Clock in"),e(),t(33,"a",29),n(34,"Clock Out"),e()()()()(),t(35,"div",30)(36,"div",22)(37,"div",31)(38,"h4",32),n(39,"Days Overview This Month"),e()(),t(40,"div",33)(41,"div",34)(42,"div",35)(43,"span",36),n(44,"31"),e(),t(45,"h5",37),n(46,"Total Working Days"),e()(),t(47,"div",35)(48,"span",38),n(49,"24"),e(),t(50,"h5",37),n(51,"Present Days"),e()(),t(52,"div",35)(53,"span",39),n(54,"2"),e(),t(55,"h5",37),n(56,"Absent Days"),e()(),t(57,"div",35)(58,"span",40),n(59,"0"),e(),t(60,"h5",37),n(61,"Half Days"),e()(),t(62,"div",35)(63,"span",41),n(64,"2"),e(),t(65,"h5",37),n(66,"Late Days"),e()(),t(67,"div",35)(68,"span",42),n(69,"5"),e(),t(70,"h5",37),n(71,"Holidays"),e()()()()()()(),t(72,"div",20)(73,"div",43)(74,"div",22)(75,"div",31)(76,"h4",32),n(77,"Attendance Overview"),e()(),t(78,"div",23)(79,"div",20)(80,"div",44)(81,"div",20)(82,"div",45)(83,"div",46)(84,"label",26),n(85,"From:"),e(),t(86,"div",47)(87,"div",8)(88,"div",9),p(89,"i",10),e(),p(90,"input",11),e()()()(),t(91,"div",45)(92,"div",46)(93,"label",26),n(94,"To:"),e(),t(95,"div",47)(96,"div",8)(97,"div",9),p(98,"i",10),e(),p(99,"input",48),e()()()()()(),t(100,"div",49)(101,"div",46)(102,"label",26),n(103,"Month:"),e(),t(104,"ng-select",50)(105,"ng-option",51),n(106,"Select Month"),e(),t(107,"ng-option",52),n(108,"January"),e(),t(109,"ng-option",53),n(110,"February"),e(),t(111,"ng-option",54),n(112,"March"),e(),t(113,"ng-option",55),n(114,"April"),e(),t(115,"ng-option",56),n(116,"May"),e(),t(117,"ng-option",57),n(118,"June"),e(),t(119,"ng-option",58),n(120,"July"),e(),t(121,"ng-option",59),n(122,"August"),e(),t(123,"ng-option",60),n(124,"September"),e(),t(125,"ng-option",61),n(126,"October"),e(),t(127,"ng-option",62),n(128,"November"),e(),t(129,"ng-option",63),n(130,"December"),e()()()(),t(131,"div",64)(132,"div",47)(133,"label",26),n(134,"Year:"),e(),t(135,"ng-select",65)(136,"ng-option",51),n(137,"Select Year"),e(),t(138,"ng-option",52),n(139,"2024"),e(),t(140,"ng-option",53),n(141,"2023"),e(),t(142,"ng-option",54),n(143,"2022"),e(),t(144,"ng-option",55),n(145,"2021"),e(),t(146,"ng-option",56),n(147,"2020"),e(),t(148,"ng-option",57),n(149,"2019"),e(),t(150,"ng-option",58),n(151,"2018"),e(),t(152,"ng-option",59),n(153,"2017"),e(),t(154,"ng-option",60),n(155,"2016"),e(),t(156,"ng-option",61),n(157,"2015"),e(),t(158,"ng-option",62),n(159,"2014"),e(),t(160,"ng-option",63),n(161,"2013"),e(),t(162,"ng-option",66),n(163,"2012"),e(),t(164,"ng-option",67),n(165,"2011"),e(),t(166,"ng-option",68),n(167,"2019"),e(),t(168,"ng-option",69),n(169,"2010"),e()()()(),t(170,"div",64)(171,"div",70),p(172,"label",26),t(173,"a",71),n(174,"Search"),e()()()()(),t(175,"div",72)(176,"div",73)(177,"div",74)(178,"div",75)(179,"span"),n(180,"Show"),e(),t(181,"div",76)(182,"div",7)(183,"ng-select",77),_("ngModelChange",function(a){return g(m),E(i.service.pageSize,a)||(i.service.pageSize=a),h(a)}),t(184,"ng-option",78),n(185,"10"),e(),t(186,"ng-option",79),n(187,"25"),e(),t(188,"ng-option",79),n(189,"50"),e(),t(190,"ng-option",79),n(191,"100"),e()()()(),t(192,"span"),n(193,"entries"),e()()(),t(194,"div",74)(195,"div",80)(196,"input",81),_("ngModelChange",function(a){return g(m),E(i.service.searchTerm,a)||(i.service.searchTerm=a),h(a)}),e(),M(197,Fe,2,0,"span"),A(198,"async"),e()()(),t(199,"div",82)(200,"table",83)(201,"thead")(202,"tr")(203,"th",84),b("sort",function(a){return g(m),h(i.onSort(a))}),n(204,"Date"),e(),t(205,"th",85),b("sort",function(a){return g(m),h(i.onSort(a))}),n(206,"Status"),e(),t(207,"th",86),b("sort",function(a){return g(m),h(i.onSort(a))}),n(208,"Clock-In"),e(),t(209,"th",87),b("sort",function(a){return g(m),h(i.onSort(a))}),n(210,"Clock-Out"),e(),t(211,"th",88),b("sort",function(a){return g(m),h(i.onSort(a))}),n(212,"Progress"),e(),t(213,"th",89),b("sort",function(a){return g(m),h(i.onSort(a))}),n(214,"Hours"),e()()(),t(215,"tbody"),$(216,Be,14,16,"tr",null,Q),A(218,"async"),e()()(),t(219,"div",90)(220,"ngb-pagination",91),A(221,"async"),_("pageChange",function(a){return g(m),E(i.service.page,a)||(i.service.page=a),h(a)}),e()()()()()(),M(222,ze,18,3,"ng-template",null,0,ee)}l&2&&(d(27),I("",i.hours,":",i.minutes,":",i.seconds,""),d(156),x("ngModel",i.service.pageSize),d(),v("value",10),d(2),v("value",25),d(2),v("value",50),d(2),v("value",100),d(6),x("ngModel",i.service.searchTerm),d(),R(C(198,13,i.service.loading$)?197:-1),d(19),U(C(218,15,i.employeeAttendance$)),d(4),v("collectionSize",C(221,17,i.total$)),x("page",i.service.page),v("pageSize",i.service.pageSize))},dependencies:[ve,pe,ue,ge,he,re,ie,ce,oe,se,le,me,Ae,_e,Ee,Ce,fe,Se,ae],styles:['th[sortable].desc[_ngcontent-%COMP%]:before, th[sortable].asc[_ngcontent-%COMP%]:before{content:"";display:inline-block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAmxJREFUeAHtmksrRVEUx72fH8CIGQNJkpGUUmakDEiZSJRIZsRQmCkTJRmZmJgQE0kpX0D5DJKJgff7v+ru2u3O3vvc67TOvsdatdrnnP1Y///v7HvvubdbUiIhBISAEBACQkAICAEhIAQ4CXSh2DnyDfmCPEG2Iv9F9MPlM/LHyAecdyMzHYNwR3fdNK/OH9HXl1UCozD24TCvILxizEDWIEzA0FcM8woCgRrJCoS5PIwrANQSMAJX1LEI9bqpQo4JYNFFKRSvIgsxHDVnqZgIkPnNBM0rIGtYk9YOOsqgbgepRCfdbmFtqhFkVEDVPjJp0+Z6e6hRHhqBKgg6ZDCvYBygVmUoEGoh5JTRvIJwhJo1aUOoh4CLPMyvxxi7EWOMgnCGsXXI1GIXlZUYX7ucU+kbR8NW8lh3O7cue0Pk32MKndfUxQFAwxdirk3fHappAnc0oqDPzDfGTBrCfHP04dM4oTV8cxr0SVzH9FF07xD3ib6xCDE+M+aUcVygtWzzbtGX2rPBrEUYfecfQkaFzYi6HjVnGBdtL7epqAlc1+jRdAap74RrnPc4BCijttY2tRcdN0g17w7HqZrXhdJTYAuS3hd8z+vKgK3V1zWPae0mZDMykadBn1hTQBLnZNwVrJpSe/NwEeDsEwCctEOsJTsgxLvCqUl2ACftEGvJDgjxrnBqkh3ASTvEWrIDQrwrnJpkB3DSDrGW7IAQ7wqnJtkBnLRztejXXVu4+mxz/nQ9jR1w5VB86ejLTFcnnDwhzV+F6T+CHZlx6THSjn76eyyBIOPHyDakhBAQAkJACAgBISAEhIAQYCLwC8JxpAmsEGt6AAAAAElFTkSuQmCC) no-repeat;background-size:22px;width:22px;height:22px}th[sortable].desc[_ngcontent-%COMP%]:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}']});let s=o;return s})();export{it as AttendanceComponent};
