import{a as ye}from"./chunk-FOTQ6AHR.js";import{b as xe,c as _e,j as Ee,n as Ce}from"./chunk-MLXH54UA.js";import{a as fe,b as be,c as Se}from"./chunk-MMT2JZQZ.js";import"./chunk-VATDXQ3S.js";import"./chunk-V63I4SR4.js";import{a as A,b as ge,c as he,d as ve}from"./chunk-ZWG2JCXX.js";import{K as pe,Y as de,Z as ce,aa as ue,c as ae,g as oe,l as le,v as se,w as me}from"./chunk-57KCC2QJ.js";import{$ as k,$b as M,Cb as f,I as P,Ib as h,K as L,Kb as _,Na as z,Nb as J,Pb as U,Qa as d,Qb as q,Ra as S,Rb as G,Rc as ie,Ub as K,Uc as y,Vb as i,Wb as X,X as O,Xc as ne,_b as B,ac as V,bc as Z,cc as ee,d as D,db as E,e as b,ea as R,ha as N,jb as v,la as I,mc as $,nb as T,nc as j,o as F,ob as H,pd as re,qc as te,rb as C,sb as W,ua as c,ub as Q,va as u,vb as Y,wb as t,xb as e,yb as p}from"./chunk-4W3Y4UZY.js";import"./chunk-REZWHGN7.js";var we=[{id:1,img:"./assets/images/users/1.jpg",employee:"Faith Harris",title:"Bike Services",purchaseFrom:"ABC Service Center",date:"01-10-2021",amount:"$678",paidBy:"Card",ApprovalStatus:"Approved",statusBg:"badge bg-success",check:!0,x:!0},{id:2,img:"./assets/images/users/9.jpg",employee:"Austin Bell",title:"Bike Services",purchaseFrom:"ABC Service Center",date:"01-10-2021",amount:"$678",paidBy:"Card",ApprovalStatus:"Rejected",statusBg:"badge bg-danger",check:!0,x:!1},{id:3,img:"./assets/images/users/2.jpg",employee:"Maria Bower",title:"Pens",purchaseFrom:"Books stationery",date:"11-12-2020",amount:"$12",paidBy:"Cash",ApprovalStatus:"Approved",statusBg:"badge bg-success",check:!0,x:!0},{id:4,img:"./assets/images/users/10.jpg",employee:"Maria Bower",title:"Mouse Pad",purchaseFrom:"Aamzon",date:"21-11-2020",amount:"$45",paidBy:"Online Payment",ApprovalStatus:"Pending",statusBg:"badge bg-warning",check:!0,x:!0},{id:5,img:"./assets/images/users/3.jpg",employee:"Victoria Lyman",title:"Data Connection",purchaseFrom:"PhonePe",date:"16-10-2020",amount:"$599",paidBy:"Online Payment",ApprovalStatus:"Approved",statusBg:"badge bg-success",check:!0,x:!0},{id:6,img:"./assets/images/users/11.jpg",employee:"Adam Quinn",title:"Mobile Recharge",purchaseFrom:"PhonePe",date:"15-10-2020",amount:"$100",paidBy:"Online Payment",ApprovalStatus:"Approved",statusBg:"badge bg-success",check:!0,x:!0},{id:7,img:"./assets/images/users/4.jpg",employee:"Melanie Coleman",title:"Bike Fuel",purchaseFrom:"Petrol Bunk",date:"12-09-2020",amount:"$220",paidBy:"Card",ApprovalStatus:"Pending",statusBg:"badge bg-warning",check:!0,x:!0},{id:8,img:"./assets/images/users/12.jpg",employee:"Max Wilson",title:"Bike Fuel",purchaseFrom:"Petrol Bunk",date:"12-09-2020",amount:"$220",paidBy:"Card",ApprovalStatus:"Rejected",statusBg:"badge bg-danger",check:!0,x:!1}];var Ve=(l,o)=>l<o?-1:l>o?1:0;function $e(l,o,m){return m===""||o===""?l:[...l].sort((a,r)=>{let n=Ve(a[o],r[o]);return m==="asc"?n:-n})}function je(l,o,m){return l.title.toLowerCase().includes(o.toLowerCase())||l.employee.toLowerCase().includes(o.toLowerCase())||l.purchaseFrom.toLowerCase().includes(o.toLowerCase())||l.date.toLowerCase().includes(o.toLowerCase())||l.amount.toLowerCase().includes(o.toLowerCase())||l.paidBy.toLowerCase().includes(o.toLowerCase())||l.ApprovalStatus.toLowerCase().includes(o.toLowerCase())}var w=(()=>{let o=class o{constructor(a){this.pipe=a,this._loading$=new b(!0),this._search$=new D,this._expensesData$=new b([]),this._total$=new b(0),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe(k(()=>this._loading$.next(!0)),P(200),O(()=>this._search()),L(200),k(()=>this._loading$.next(!1))).subscribe(r=>{this._expensesData$.next(r.expensesData),this._total$.next(r.total)}),this._search$.next()}get expensesData$(){return this._expensesData$.asObservable()}get total$(){return this._total$.asObservable()}get loading$(){return this._loading$.asObservable()}get page(){return this._state.page}get pageSize(){return this._state.pageSize}get searchTerm(){return this._state.searchTerm}set page(a){this._set({page:a})}set pageSize(a){this._set({pageSize:a})}set searchTerm(a){this._set({searchTerm:a})}set sortColumn(a){this._set({sortColumn:a})}set sortDirection(a){this._set({sortDirection:a})}_set(a){Object.assign(this._state,a),this._search$.next()}_search(){let{sortColumn:a,sortDirection:r,pageSize:n,page:g,searchTerm:x}=this._state,s=$e(we,a,r);s=s.filter(Te=>je(Te,x,this.pipe));let ke=s.length;return s=s.slice((g-1)*n,(g-1)*n+n),F({expensesData:s,total:ke})}};o.\u0275fac=function(r){return new(r||o)(N(y))},o.\u0275prov=R({token:o,factory:o.\u0275fac,providedIn:"root"});let l=o;return l})();function De(l,o){l&1&&(t(0,"span",18),i(1,"Loading..."),e())}function Fe(l,o){if(l&1){let m=f();t(0,"a",47),h("click",function(){c(m);let r=_().$implicit,n=_();return u(n.checked(r))}),p(1,"i",48),e()}if(l&2){let m=_().$implicit;H("action-btns1  ",m.check,"")}}function Pe(l,o){if(l&1){let m=f();t(0,"a",49),h("click",function(){c(m);let r=_().$implicit,n=_();return u(n.cancel(r))}),p(1,"i",50),e()}}function Le(l,o){if(l&1){let m=f();t(0,"tr")(1,"td"),i(2),e(),t(3,"td")(4,"div",10)(5,"span",37),p(6,"img",38),e(),p(7,"ngb-highlight",39),e()(),t(8,"td"),p(9,"ngb-highlight",39),e(),t(10,"td"),p(11,"ngb-highlight",39),e(),t(12,"td"),p(13,"ngb-highlight",39),e(),t(14,"td"),p(15,"ngb-highlight",39),e(),t(16,"td"),p(17,"ngb-highlight",39),e(),t(18,"td"),p(19,"ngb-highlight",39),e(),t(20,"td")(21,"div",40),E(22,Fe,2,3,"a",41)(23,Pe,2,0,"a",42),t(24,"a",43),h("click",function(){c(m);let r=_(),n=K(75);return u(r.openDialog(n))}),p(25,"i",44),e(),t(26,"a",45),h("click",function(){let r=c(m).$implicit,n=_();return u(n.deleteData(r))}),p(27,"i",46),e()()()()}if(l&2){let m=o.$implicit,a=_();d(2),X(m.id),d(4),J("src",m.img,z),d(),v("result",m.employee)("term",a.service.searchTerm),d(2),v("result",m.title)("term",a.service.searchTerm),d(2),v("result",m.purchaseFrom)("term",a.service.searchTerm),d(2),v("result",m.date)("term",a.service.searchTerm),d(2),v("result",m.amount)("term",a.service.searchTerm),d(2),v("result",m.paidBy)("term",a.service.searchTerm),d(2),T(m.statusBg),v("result",m.ApprovalStatus)("term",a.service.searchTerm),d(3),C(m.check?22:-1),d(),C(m.x?23:-1)}}function Oe(l,o){if(l&1){let m=f();t(0,"div",51)(1,"div",52)(2,"h5",53),i(3,"Edit Expense"),e(),t(4,"button",54),h("click",function(){let r=c(m).$implicit;return u(r.close("cross click"))}),e()(),t(5,"div",55)(6,"div",56)(7,"div",57)(8,"label",58),i(9,"Title:"),e(),p(10,"input",59),e(),t(11,"div",2)(12,"div",60)(13,"div",57)(14,"label",58),i(15,"Purchase Place:"),e(),p(16,"input",61),e()(),t(17,"div",60)(18,"div",57)(19,"label",58),i(20,"Price ($):"),e(),p(21,"input",62),e()(),t(22,"div",60)(23,"div",57)(24,"label",58),i(25,"Date:"),e(),t(26,"div",63)(27,"div",64)(28,"div",65),p(29,"i",66),e(),p(30,"input",67),e()()()(),t(31,"div",60)(32,"div",57)(33,"label",58),i(34,"Employee Name :"),e(),t(35,"ng-select",68)(36,"ng-option",69),i(37,"Faith Harris"),e(),t(38,"ng-option",70),i(39,"Austin Bell"),e(),t(40,"ng-option",71),i(41,"Maria Bower"),e(),t(42,"ng-option",72),i(43,"Peter Hill"),e(),t(44,"ng-option",73),i(45,"Victoria Lyman"),e(),t(46,"ng-option",74),i(47,"Adam Quinn"),e(),t(48,"ng-option",75),i(49,"Melanie Coleman"),e(),t(50,"ng-option",76),i(51,"Max Wilson"),e(),t(52,"ng-option",77),i(53,"Amelia Russell"),e(),t(54,"ng-option",78),i(55,"Justin Metcalfe"),e(),t(56,"ng-option",79),i(57,"Ryan Young"),e(),t(58,"ng-option",80),i(59,"Jennifer Hardacre"),e(),t(60,"ng-option",81),i(61,"Justin Parr"),e(),t(62,"ng-option",82),i(63,"Julia Hodges"),e(),t(64,"ng-option",83),i(65,"Michael Sutherland"),e()()()()(),t(66,"div",57)(67,"div",58),i(68,"Upload Invoice"),e(),t(69,"div",63),p(70,"input",84),e()(),t(71,"div",57)(72,"label",58),i(73,"Note:"),e(),t(74,"textarea",85),i(75,"Some text here..."),e()(),t(76,"div",86)(77,"label",87),i(78,"Status :"),e(),t(79,"div",88),p(80,"input",89),t(81,"label",90),i(82," Approved "),e()(),t(83,"div",88),p(84,"input",91),t(85,"label",92),i(86," Pending "),e()(),t(87,"div",93),p(88,"input",94),t(89,"label",95),i(90," Rejected "),e()()()()(),t(91,"div",96)(92,"div",97)(93,"a",98),h("click",function(){let r=c(m).$implicit;return u(r.close("cross click"))}),i(94,"Close"),e(),t(95,"a",99),i(96,"Update"),e()()()()}}var ot=(()=>{let o=class o{constructor(a,r,n){this.modalService=a,this.service=r,this.dialog=n,this.inlineDatePicker=!1,this.flatpickrOptions={inline:!0},this.expenses$=r.expensesData$,this.total$=r.total$}onSort({column:a,direction:r}){this.headers.forEach(n=>{n.sortable!==a&&(n.direction="")}),this.service.sortColumn=a,this.service.sortDirection=r}deleteData(a){this.expenses$.subscribe(r=>{let n=r.indexOf(a);r.splice(n,1)})}checked(a){this.expenses$.subscribe(r=>{let n=r.indexOf(a);r[n].check=!1,r[n].x=!1,r[n].ApprovalStatus="Approved",r[n].statusBg="badge bg-success"})}cancel(a){this.expenses$.subscribe(r=>{let n=r.indexOf(a);r[n].check=!1,r[n].x=!1,r[n].ApprovalStatus="Rejected",r[n].statusBg="badge bg-danger"})}openDialog(a){this.modalService.open(a,{windowClass:"modalCusSty",size:"lg"})}ngOnInit(){this.flatpickrOptions={enableTime:!0,noCalendar:!0,dateFormat:"H:i"},A("#inlinetime",this.flatpickrOptions),this.flatpickrOptions={enableTime:!0,dateFormat:"Y-m-d H:i",defaultDate:"2023-11-07 14:30"},A("#pretime",this.flatpickrOptions)}};o.\u0275fac=function(r){return new(r||o)(S(pe),S(w),S(xe))},o.\u0275cmp=I({type:o,selectors:[["app-expenses"]],viewQuery:function(r,n){if(r&1&&U(ye,5),r&2){let g;q(g=G())&&(n.headers=g)}},standalone:!0,features:[Z([w,y,ge]),ee],decls:76,vars:17,consts:[["content",""],[3,"title","title3","class1","path"],[1,"row"],[1,"col-md-12"],[1,"card","custom-card"],[1,"card-header","border-bottom-0"],[1,"card-title"],[1,"card-body"],[1,"row","mb-3","gap-1","gap-lg-0"],[1,"col-lg-6"],[1,"d-flex","align-items-center"],[1,"d-flex","ms-2","mx-2"],[1,"form-group","mb-0"],["name","quantity","id","select-countries17","data-trigger","",1,"form-control","wd-150","p-0",3,"ngModelChange","ngModel"],["selected","",3,"value"],[3,"value"],[1,"float-end"],["type","text","placeholder","search",1,"form-control",3,"ngModelChange","ngModel"],[1,"ml-3"],[1,"table-responsive"],[1,"table","table-vcenter","text-nowrap","table-bordered","border-bottom"],[1,"border-bottom-0"],["sortable","employee",1,"border-bottom-0",3,"sort"],["sortable","title",1,"border-bottom-0",3,"sort"],["sortable","purchaseFrom",1,"border-bottom-0",3,"sort"],["sortable","date",1,"border-bottom-0",3,"sort"],["sortable","amount",1,"border-bottom-0",3,"sort"],["sortable","paidBy",1,"border-bottom-0",3,"sort"],["sortable","approvalStatus",1,"border-bottom-0",3,"sort"],[1,"border-bottom-0",3,"sort"],[1,"mt-4"],[1,"pagination","justify-content-end","mb-0"],[1,"page-item","disabled"],["href","javascript:void(0);",1,"page-link"],[1,"page-item","active"],[1,"page-item"],["id","editexpensemodal"],[1,"avatar","avatar-sm","me-2","avatar-rounded"],["alt","img",3,"src"],[3,"result","term"],[1,"d-flex","text-start"],["href","javascript:void(0);","data-bs-toggle","tooltip","placement","top","ngbTooltip","Accept",3,"class"],["href","javascript:void(0);","data-bs-toggle","tooltip","placement","top","ngbTooltip","Rejected",1,"action-btns1"],["data-bs-toggle","modal","data-bs-target","#editexpensemodal",1,"action-btns1",3,"click"],["data-bs-toggle","tooltip","placement","top","ngbTooltip","view",1,"fe","fe-eye","text-primary"],["href","javascript:void(0);","data-bs-toggle","tooltip","placement","top","ngbTooltip","Delete",1,"action-btns1",3,"click"],[1,"fe","fe-trash-2","text-danger"],["href","javascript:void(0);","data-bs-toggle","tooltip","placement","top","ngbTooltip","Accept",3,"click"],[1,"fe","fe-check","text-success"],["href","javascript:void(0);","data-bs-toggle","tooltip","placement","top","ngbTooltip","Rejected",1,"action-btns1",3,"click"],[1,"fe","fe-x","text-danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"leave-types"],[1,"form-group","mb-3"],[1,"form-label"],["type","text","placeholder","text","value","Bike Services",1,"form-control"],[1,"col-md-6"],["type","text","placeholder","text","value","ABC Service Center",1,"form-control"],["type","text","placeholder","Number","value","$678",1,"form-control"],[1,"form-group"],[1,"input-group"],[1,"input-group-text","text-muted"],[1,"ri-calendar-line"],["type","text","mwlFlatpickr","","placeholder","DD-MM-YYYY",1,"form-control","choose-date"],["name","attendance","data-trigger","","placeholder","Select Employee",1,"form-control","custom-select","p-0"],["value","1","selected",""],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["value","13"],["value","14"],["value","15"],["type","file",1,"form-control"],["rows","3",1,"form-control"],[1,"custom-controls-stacked","d-md-flex"],[1,"form-label","me-5"],[1,"form-check","me-3"],["type","radio","name","flexRadioDefault","id","approved1",1,"form-check-input"],["for","approved1",1,"form-check-label"],["type","radio","name","flexRadioDefault","id","rejected1",1,"form-check-input"],["for","rejected1",1,"form-check-label"],[1,"form-check"],["type","radio","name","flexRadioDefault","id","rejected2",1,"form-check-input"],["for","rejected2",1,"form-check-label"],[1,"modal-footer"],[1,"ms-auto"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-outline-danger",3,"click"],["href","javascript:void(0);",1,"btn","btn-primary"]],template:function(r,n){if(r&1){let g=f();p(0,"app-hr-dashboard-page-header",1),t(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4",6),i(6,"Expense Summary"),e()(),t(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"span"),i(12,"Show"),e(),t(13,"div",11)(14,"div",12)(15,"ng-select",13),V("ngModelChange",function(s){return c(g),M(n.service.pageSize,s)||(n.service.pageSize=s),u(s)}),t(16,"ng-option",14),i(17,"5"),e(),t(18,"ng-option",15),i(19,"10"),e(),t(20,"ng-option",15),i(21,"15"),e(),t(22,"ng-option",15),i(23,"20"),e()()()(),t(24,"span"),i(25,"entries"),e()()(),t(26,"div",9)(27,"div",16)(28,"input",17),V("ngModelChange",function(s){return c(g),M(n.service.searchTerm,s)||(n.service.searchTerm=s),u(s)}),e(),E(29,De,2,0,"span",18),$(30,"async"),e()()(),t(31,"div",19)(32,"table",20)(33,"thead")(34,"tr")(35,"th",21),i(36,"#ID"),e(),t(37,"th",22),h("sort",function(s){return c(g),u(n.onSort(s))}),i(38,"Employee"),e(),t(39,"th",23),h("sort",function(s){return c(g),u(n.onSort(s))}),i(40,"Title"),e(),t(41,"th",24),h("sort",function(s){return c(g),u(n.onSort(s))}),i(42,"Purchase From"),e(),t(43,"th",25),h("sort",function(s){return c(g),u(n.onSort(s))}),i(44,"Date"),e(),t(45,"th",26),h("sort",function(s){return c(g),u(n.onSort(s))}),i(46,"Amount ($)"),e(),t(47,"th",27),h("sort",function(s){return c(g),u(n.onSort(s))}),i(48,"Paid By"),e(),t(49,"th",28),h("sort",function(s){return c(g),u(n.onSort(s))}),i(50,"Aprroval Status"),e(),t(51,"th",29),h("sort",function(s){return c(g),u(n.onSort(s))}),i(52,"Action"),e()()(),t(53,"tbody"),Q(54,Le,28,21,"tr",null,W),$(56,"async"),e()()(),t(57,"nav",30)(58,"ul",31)(59,"li",32)(60,"a",33),i(61,"Prev"),e()(),t(62,"li",34)(63,"a",33),i(64,"1"),e()(),t(65,"li",35)(66,"a",33),i(67,"2"),e()(),t(68,"li",35)(69,"a",33),i(70,"3"),e()(),t(71,"li",35)(72,"a",33),i(73,"Next"),e()()()()()()()(),E(74,Oe,97,0,"ng-template",36,0,te)}r&2&&(T(""),v("title","Expenses")("title3","Add New Expenses")("class1","btn btn-primary")("path",""),d(15),B("ngModel",n.service.pageSize),d(),v("value",5),d(2),v("value",10),d(2),v("value",15),d(2),v("value",20),d(6),B("ngModel",n.service.searchTerm),d(),C(j(30,13,n.service.loading$)?29:-1),d(25),Y(j(56,15,n.expenses$)))},dependencies:[ne,ie,Ee,se,ae,oe,le,me,ue,de,ce,Se,be,fe,ve,he,Ce,_e,re]});let l=o;return l})();export{ot as ExpensesComponent};
