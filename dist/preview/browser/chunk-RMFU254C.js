import{e as h,ea as c}from"./chunk-LRQ5P2FH.js";import{a}from"./chunk-REZWHGN7.js";var f=(()=>{let e=class e{constructor(){this.localStorageKey="dayone-ng",this.initialState={theme:"light",direction:"ltr",navigationStyles:"vertical",menuStyles:"",layoutStyles:"default",pageStyles:"regular",widthStyles:"fullwidth",menuPosition:"fixed",headerPosition:"fixed",menuColor:"dark",headerColor:"light",themePrimary:"",themeBackground:"",backgroundImage:""},this.stateSubject=new h(this.initialState),this.state$=this.stateSubject.asObservable(),this.state={};let t=this.getInitialStateFromLocalStorage();this.initializeState(),this.stateSubject.next(t)}getInitialStateFromLocalStorage(){try{let t=localStorage.getItem(this.localStorageKey);if(t)return JSON.parse(t)}catch(t){console.error("Error retrieving initial state from local storage:",t)}return this.initialState}initializeState(){let t=a({},this.initialState);this.applyDirectionSpecificChanges(t.direction),this.stateSubject.next(t)}updateState(t){let s=this.stateSubject.getValue();if(this.state=a(a({},this.state),t),!s){this.updateStateAndEmit(t);return}if(t){let o=a(a({},s),t);this.updateStateAndEmit(o)}else{this.updateStateAndEmit(s);return}}getState(t){return this.state[t]}applyThemeBackgroundSpecificChanges(t){let s=document.querySelector("html");s?.style.setProperty("--body-bg-rgb",t.main),s?.style.setProperty("--body-bg-rgb2",t.secondary),s?.style.setProperty("--light-rgb",t.accent),s?.style.setProperty("--form-control-bg",`rgb(${t.accent})`),s?.style.setProperty("--input-border",t.overlay),this.applythemeSpecificChanges(t.theme)}applyDirectionSpecificChanges(t){document.querySelector("html")?.setAttribute("dir",t)}applythemeSpecificChanges(t){let s=document.querySelector("html");s?.setAttribute("data-theme-mode",t),s?.setAttribute("data-header-styles",t),s?.setAttribute("data-menu-styles",t)}applyNavigationStylesSpecificChanges(t){let s=document.querySelector("html");s?.setAttribute("data-nav-layout",t),t=="horizontal"&&(s?.setAttribute("data-nav-style","menu-click"),s?.removeAttribute("data-vertical-style"))}applyMenuStylesSpecificChanges(t){let s=document.querySelector("html");s?.setAttribute("data-nav-style",t),s?.setAttribute("data-toggled",t+"-closed"),s?.removeAttribute("data-vertical-style")}applyLayoutStylesSpecificChanges(t){let s=document.querySelector("html");switch(s?.setAttribute("data-vertical-style",t),s?.removeAttribute("data-nav-style"),t){case"default":s?.setAttribute("data-vertical-style","overlay"),s?.setAttribute("data-toggled","");break;case"closed":s?.setAttribute("data-toggled","close-menu-close");break;case"icontext":s?.setAttribute("data-toggled","icon-text-close");break;case"overlay":s?.setAttribute("data-toggled","icon-overlay-close");break;case"detached":s?.setAttribute("data-toggled","detached-close");break;case"doublemenu":s?.setAttribute("data-toggled","double-menu-open");break}t==="icon-text"?s?.setAttribute("icon-text","open"):s?.removeAttribute("icon-text")}applypageStylesSpecificChanges(t){document.querySelector("html")?.setAttribute("data-page-style",t)}applywidthStylesSpecificChanges(t){document.querySelector("html")?.setAttribute("data-width",t)}applymenuPositionSpecificChanges(t){document.querySelector("html")?.setAttribute("data-menu-position",t)}applyheaderPositionSpecificChanges(t){document.querySelector("html")?.setAttribute("data-header-position",t)}applyheaderColorSpecificChanges(t){document.querySelector("html")?.setAttribute("data-header-styles",t)}applymenuColorSpecificChanges(t){document.querySelector("html")?.setAttribute("data-menu-styles",t)}applyPrimarySpecificChanges(t){document.querySelector("html")?.style.setProperty("--primary-rgb",t)}applybackgroundImageSpecificChanges(t){document.querySelector("html")?.setAttribute("data-bg-img",t)}applyReset(){let t=document.querySelector("html");t&&(t?.style.removeProperty("--body-bg-rgb"),t?.style.removeProperty("--body-bg-rgb2"),t?.style.removeProperty("--light-rgb"),t?.style.removeProperty("--form-control-bg"),t?.style.removeProperty("--input-border"),t?.style.removeProperty("--primary-rgb")),t?.removeAttribute("data-bg-img"),t?.setAttribute("data-vertical-style","overlay"),this.stateSubject.next(this.initialState),this.updateStateAndEmit(this.initialState),localStorage.clear();let s=document.querySelector('[name="theme-background"]:checked');s&&(s.checked=!1)}updateStateAndEmit(t){let s=this.stateSubject.getValue();t.theme&&this.applythemeSpecificChanges(t.theme),t.direction&&this.applyDirectionSpecificChanges(t.direction),t.navigationStyles&&this.applyNavigationStylesSpecificChanges(t.navigationStyles),t.menuStyles&&!t.layoutStyles&&this.applyMenuStylesSpecificChanges(t.menuStyles),t.layoutStyles&&!t.menuStyles&&this.applyLayoutStylesSpecificChanges(t.layoutStyles),t.pageStyles&&this.applypageStylesSpecificChanges(t.pageStyles),t.widthStyles&&this.applywidthStylesSpecificChanges(t.widthStyles),t.menuPosition&&this.applymenuPositionSpecificChanges(t.menuPosition),t.headerPosition&&this.applyheaderPositionSpecificChanges(t.headerPosition),t.themePrimary&&this.applyPrimarySpecificChanges(t.themePrimary),t.themeBackground&&this.applyThemeBackgroundSpecificChanges(t.themeBackground),t.headerColor&&this.applyheaderColorSpecificChanges(t.headerColor),t.menuColor&&this.applymenuColorSpecificChanges(t.menuColor),t.backgroundImage&&this.applybackgroundImageSpecificChanges(t.backgroundImage),this.stateSubject.next(t),this.updateLocalStorage(t)}updateLocalStorage(t){try{localStorage.setItem(this.localStorageKey,JSON.stringify(t))}catch(s){console.error("Error saving state to local storage:",s)}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var n=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(n||{}),_="*";function b(i,e){return{type:n.Trigger,name:i,definitions:e,options:{}}}function C(i,e=null){return{type:n.Animate,styles:e,timings:i}}function v(i,e=null){return{type:n.Group,steps:i,options:e}}function D(i,e=null){return{type:n.Sequence,steps:i,options:e}}function P(i){return{type:n.Style,styles:i,offset:null}}function F(i,e,r){return{type:n.State,name:i,styles:e,options:r}}function E(i){return{type:n.Keyframes,steps:i}}function A(i,e,r=null){return{type:n.Transition,expr:i,animation:e,options:r}}function k(i=null){return{type:n.AnimateChild,options:i}}function I(i,e,r=null){return{type:n.Query,selector:i,animation:e,options:r}}function q(i,e){return{type:n.Stagger,timings:i,animation:e}}var u=class{constructor(e=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let r=e=="start"?this._onStartFns:this._onDoneFns;r.forEach(t=>t()),r.length=0}},d=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let r=0,t=0,s=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++r==o&&this._onFinish()}),l.onDestroy(()=>{++t==o&&this._onDestroy()}),l.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,y)=>Math.max(l,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let r=e*this.totalTime;this.players.forEach(t=>{let s=t.totalTime?Math.min(1,r/t.totalTime):1;t.setPosition(s)})}getPosition(){let e=this.players.reduce((r,t)=>r===null||t.totalTime>r.totalTime?t:r,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let r=e=="start"?this._onStartFns:this._onDoneFns;r.forEach(t=>t()),r.length=0}},x="!";export{f as a,n as b,_ as c,b as d,C as e,v as f,D as g,P as h,F as i,E as j,A as k,k as l,I as m,q as n,u as o,d as p,x as q};
