import{a as O}from"./chunk-XIOJDDMJ.js";import"./chunk-IORNA22M.js";import{c as I,n as w}from"./chunk-USSGZFX3.js";import"./chunk-XG7TRELF.js";import"./chunk-2CYZEA6T.js";import"./chunk-3DATYCE5.js";import"./chunk-EMEDTLE5.js";import"./chunk-XRHNCSTF.js";import{Kb as x,Mc as C,Qa as a,Ra as b,Tc as y,Wb as i,Wc as P,Xb as s,Yb as u,db as S,dc as h,jb as c,la as f,nb as E,nc as p,oc as v,od as M,pc as _,wb as t,xb as e,yb as r}from"./chunk-AZAYKVK3.js";import"./chunk-REZWHGN7.js";function T(d,l){if(d&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",2)(5,"div",6)(6,"div",7)(7,"span",8),i(8,"Total Lotes"),e(),t(9,"h3",9),i(10),e()()(),t(11,"div",10)(12,"div",11),r(13,"i",12),e()()()()()(),t(14,"div",3)(15,"div",4)(16,"div",5)(17,"div",2)(18,"div",6)(19,"div",7)(20,"span",8),i(21,"Cantidad Total"),e(),t(22,"h3",13),i(23),p(24,"number"),e()()(),t(25,"div",10)(26,"div",14),r(27,"i",15),e()()()()()(),t(28,"div",3)(29,"div",4)(30,"div",5)(31,"div",2)(32,"div",6)(33,"div",7)(34,"span",8),i(35,"Promedio por Lote"),e(),t(36,"h3",16),i(37),p(38,"number"),e()()(),t(39,"div",10)(40,"div",17),r(41,"i",18),e()()()()()(),t(42,"div",3)(43,"div",4)(44,"div",5)(45,"div",2)(46,"div",6)(47,"div",7)(48,"span",8),i(49,"Lotes Activos"),e(),t(50,"h3",9),i(51),e()()(),t(52,"div",10)(53,"div",11),r(54,"i",19),e()()()()()()()),d&2){let n=x();a(10),s((n.stats==null?null:n.stats.totalLotes)||0),a(13),s(v(24,4,n.stats==null?null:n.stats.cantidadTotal)||0),a(14),s(_(38,6,n.stats==null?null:n.stats.promedioCantidad,"1.0-0")||0),a(14),s(n.getEstadoStats("Activo")._count.id)}}function L(d,l){if(d&1&&(t(0,"div",2)(1,"div",20)(2,"div",4)(3,"div",21)(4,"h4",22),i(5,"Lotes por Tipo"),e()(),t(6,"div",5)(7,"div",2)(8,"div",23)(9,"div",24)(10,"div",25)(11,"div",26),r(12,"i",27),e(),t(13,"h4",28),i(14),e(),t(15,"p",29),i(16,"Lotes Ponedoras"),e(),t(17,"p",30),i(18),p(19,"number"),e()()()(),t(20,"div",23)(21,"div",31)(22,"div",25)(23,"div",26),r(24,"i",32),e(),t(25,"h4",33),i(26),e(),t(27,"p",29),i(28,"Lotes Engorde"),e(),t(29,"p",30),i(30),p(31,"number"),e()()()()()()()(),t(32,"div",20)(33,"div",4)(34,"div",21)(35,"h4",22),i(36,"Lotes por Estado"),e()(),t(37,"div",5)(38,"div",2)(39,"div",34)(40,"div",35)(41,"div",25)(42,"div",26),r(43,"i",36),e(),t(44,"h5",37),i(45),e(),t(46,"p",38),i(47,"Activos"),e()()()(),t(48,"div",34)(49,"div",39)(50,"div",25)(51,"div",26),r(52,"i",40),e(),t(53,"h5",41),i(54),e(),t(55,"p",38),i(56,"Inactivos"),e()()()(),t(57,"div",34)(58,"div",42)(59,"div",25)(60,"div",26),r(61,"i",43),e(),t(62,"h5",44),i(63),e(),t(64,"p",38),i(65,"Desalojados"),e()()()()()()()()()),d&2){let n=x();a(14),s(n.getTipoStats("Ponedoras")._count.id),a(4),u("",v(19,7,n.getTipoStats("Ponedoras")._sum.cantidad)||0," aves"),a(8),s(n.getTipoStats("Engorde")._count.id),a(4),u("",v(31,9,n.getTipoStats("Engorde")._sum.cantidad)||0," aves"),a(15),s(n.getEstadoStats("Activo")._count.id),a(9),s(n.getEstadoStats("Inactivo")._count.id),a(9),s(n.getEstadoStats("Desalojado")._count.id)}}function k(d,l){d&1&&(t(0,"div",2)(1,"div",45)(2,"div",4)(3,"div",46)(4,"div",47)(5,"span",48),i(6,"Cargando..."),e()(),t(7,"p",49),i(8,"Cargando estad\xEDsticas..."),e()()()()())}var N=(()=>{let l=class l{constructor(o){this.lotesService=o,this.loading=!1,this.stats=null}ngOnInit(){this.loadStats()}loadStats(){this.loading=!0,this.lotesService.getStats().subscribe({next:o=>{this.stats=o.data,this.loading=!1},error:o=>{console.error("Error al cargar estad\xEDsticas:",o),this.loading=!1}})}getTipoStats(o){return this.stats?.lotesPorTipo?.find(m=>m.tipo===o)||{_count:{id:0},_sum:{cantidad:0}}}getEstadoStats(o){return this.stats?.lotesPorEstado?.find(m=>m.estado===o)||{_count:{id:0}}}};l.\u0275fac=function(m){return new(m||l)(b(O))},l.\u0275cmp=f({type:l,selectors:[["app-estadisticas"]],standalone:!0,features:[h],decls:4,vars:9,consts:[[3,"title","title2","class1","path"],["class","row",4,"ngIf"],[1,"row"],[1,"col-xl-3","col-lg-6","col-md-6"],[1,"card","custom-card"],[1,"card-body"],[1,"col-7"],[1,"mt-0","text-start"],[1,"fw-medium"],[1,"mb-0","mt-1","text-success"],[1,"col-5"],[1,"icon1","bg-success-transparent","my-auto","float-end"],[1,"las","la-layer-group"],[1,"mb-0","mt-1","text-primary"],[1,"icon1","bg-primary-transparent","my-auto","float-end"],[1,"las","la-calculator"],[1,"mb-0","mt-1","text-info"],[1,"icon1","bg-info-transparent","my-auto","float-end"],[1,"las","la-chart-bar"],[1,"las","la-check-circle"],[1,"col-xl-6"],[1,"card-header"],[1,"card-title"],[1,"col-md-6"],[1,"card","bg-info-transparent"],[1,"card-body","text-center"],[1,"mb-2"],[1,"las","la-egg","fs-40","text-info"],[1,"mb-1","text-info"],[1,"mb-1","fw-semibold"],[1,"mb-0","text-muted"],[1,"card","bg-primary-transparent"],[1,"las","la-drumstick-bite","fs-40","text-primary"],[1,"mb-1","text-primary"],[1,"col-md-4"],[1,"card","bg-success-transparent"],[1,"las","la-check-circle","fs-30","text-success"],[1,"mb-1","text-success"],[1,"mb-0","fw-semibold"],[1,"card","bg-warning-transparent"],[1,"las","la-pause-circle","fs-30","text-warning"],[1,"mb-1","text-warning"],[1,"card","bg-danger-transparent"],[1,"las","la-times-circle","fs-30","text-danger"],[1,"mb-1","text-danger"],[1,"col-12"],[1,"card-body","text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"]],template:function(m,g){m&1&&(r(0,"app-hr-dashboard-page-header",0),S(1,T,55,9,"div",1)(2,L,66,11,"div",1)(3,k,9,0,"div",1)),m&2&&(E("btn btn-secondary"),c("title","Estad\xEDsticas de Lotes")("title2","Volver a Lista")("class1","")("path","/dashboard/business-dashboard/lotes"),a(),c("ngIf",!g.loading),a(),c("ngIf",!g.loading),a(),c("ngIf",g.loading))},dependencies:[P,C,y,w,I,M],styles:[".custom-card[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013;border:1px solid rgba(0,0,0,.125)}.icon1[_ngcontent-%COMP%]{width:50px;height:50px;display:flex;align-items:center;justify-content:center;border-radius:50%}.icon1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.fs-40[_ngcontent-%COMP%]{font-size:40px!important}.fs-30[_ngcontent-%COMP%]{font-size:30px!important}.bg-info-transparent[_ngcontent-%COMP%]{background-color:#0dcaf01a!important}.bg-primary-transparent[_ngcontent-%COMP%]{background-color:#0d6efd1a!important}.bg-success-transparent[_ngcontent-%COMP%]{background-color:#1987541a!important}.bg-warning-transparent[_ngcontent-%COMP%]{background-color:#ffc1071a!important}.bg-danger-transparent[_ngcontent-%COMP%]{background-color:#dc35451a!important}.card-title[_ngcontent-%COMP%]{font-weight:600;color:#495057}.fw-semibold[_ngcontent-%COMP%]{font-weight:600!important}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}"]});let d=l;return d})();export{N as EstadisticasComponent};
