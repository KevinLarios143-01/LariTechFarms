import{a as O}from"./chunk-5G2KFST2.js";import"./chunk-IORNA22M.js";import{c as j,n as A}from"./chunk-FG6B37U2.js";import"./chunk-S5Y45Y7X.js";import"./chunk-35J6RYA3.js";import"./chunk-P6RHK3TE.js";import"./chunk-LAI4YRFV.js";import"./chunk-I6FKYEZO.js";import{Cb as E,Ib as h,Kb as p,Mc as k,Qa as a,Qc as M,Ra as x,Tc as T,Wb as i,Wc as D,Xb as d,Yb as S,db as _,dc as C,ec as L,id as F,jb as m,kd as B,la as y,ld as P,nb as f,nc as g,oc as w,od as R,qc as I,ua as u,va as b,wb as e,xb as t,yb as v,yc as V}from"./chunk-W3KPMJ6O.js";import"./chunk-REZWHGN7.js";var H=()=>["/dashboard/business-dashboard/lotes"];function N(o,s){o&1&&(e(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),i(4,"Cargando..."),t()()()())}function U(o,s){if(o&1&&(e(0,"div",18)(1,"div",12)(2,"label",13),i(3,"Observaciones:"),t(),e(4,"p",14),i(5),t()()()),o&2){let n=p(2);a(5),d(n.lote.observaciones)}}function q(o,s){if(o&1){let n=E();e(0,"div",2)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h4",9),i(5,"Informaci\xF3n del Lote"),t()(),e(6,"div",10)(7,"div",2)(8,"div",11)(9,"div",12)(10,"label",13),i(11,"ID del Lote:"),t(),e(12,"p",14),i(13),t()()(),e(14,"div",11)(15,"div",12)(16,"label",13),i(17,"Estado:"),t(),e(18,"p",14)(19,"span",15),i(20),t()()()(),e(21,"div",11)(22,"div",12)(23,"label",13),i(24,"Galera:"),t(),e(25,"p",14),i(26),t()()(),e(27,"div",11)(28,"div",12)(29,"label",13),i(30,"Tipo:"),t(),e(31,"p",14)(32,"span",15),i(33),t()()()(),e(34,"div",11)(35,"div",12)(36,"label",13),i(37,"Cantidad:"),t(),e(38,"p",14),i(39),g(40,"number"),t()()(),e(41,"div",11)(42,"div",12)(43,"label",13),i(44,"Fecha de Inicio:"),t(),e(45,"p",14),i(46),g(47,"date"),t()()(),e(48,"div",11)(49,"div",12)(50,"label",13),i(51,"Fecha de Fin:"),t(),e(52,"p",14),i(53),g(54,"date"),t()()(),_(55,U,6,1,"div",16),t()()()(),e(56,"div",17)(57,"div",7)(58,"div",8)(59,"h4",9),i(60,"Estad\xEDsticas"),t()(),e(61,"div",10)(62,"div",2)(63,"div",18)(64,"div",19)(65,"div",20),v(66,"i",21),t(),e(67,"h5",22),i(68),t(),e(69,"p",23),i(70),t()()(),e(71,"div",24)(72,"div",25)(73,"h4",26),i(74),t(),e(75,"p",27),i(76,"Movimientos"),t()()(),e(77,"div",24)(78,"div",25)(79,"h4",28),i(80),t(),e(81,"p",27),i(82,"Tickets"),t()()()()()(),e(83,"div",7)(84,"div",8)(85,"h4",9),i(86,"Acciones"),t()(),e(87,"div",10)(88,"div",29)(89,"button",30),v(90,"i",31),i(91,"Volver a Lista "),t(),e(92,"button",32),h("click",function(){u(n);let r=p();return b(r.editLote())}),v(93,"i",33),i(94,"Editar Lote "),t()()()()()()}if(o&2){let n=p();a(13),d(n.lote.id),a(6),f(n.getEstadoBadgeClass(n.lote.estado)),a(),d(n.lote.estado),a(6),d(n.lote.galera),a(6),f(n.lote.tipo==="Ponedoras"?"bg-info":"bg-primary"),a(),d(n.lote.tipo),a(6),S("",w(40,17,n.lote.cantidad)," aves"),a(7),d(I(47,19,n.lote.fechaInicio,"dd/MM/yyyy","UTC")),a(7),d(n.lote.fechaFin?I(54,23,n.lote.fechaFin,"dd/MM/yyyy","UTC"):"N/A"),a(2),m("ngIf",n.lote.observaciones),a(13),d(n.lote.galera),a(2),d(n.lote.tipo),a(4),d((n.lote._count==null?null:n.lote._count.movAvesLote)||0),a(6),d((n.lote._count==null?null:n.lote._count.tickets)||0),a(9),m("routerLink",L(27,H))}}function G(o,s){if(o&1){let n=E();e(0,"div",2)(1,"div",18)(2,"div",7)(3,"div",34),v(4,"i",35),e(5,"h4"),i(6,"Lote no encontrado"),t(),e(7,"p",36),i(8,"El lote que buscas no existe o no tienes permisos para verlo."),t(),e(9,"p",37),i(10),t(),e(11,"button",38),h("click",function(){u(n);let r=p();return b(r.goBack())}),i(12,"Volver a Lista"),t(),e(13,"button",39),h("click",function(){u(n);let r=p();return b(r.loadLote())}),i(14,"Reintentar"),t()()()()()}if(o&2){let n=p();a(10),S("ID buscado: ",n.loteId,"")}}var ee=(()=>{let s=class s{constructor(l,r,c,z){this.route=l,this.router=r,this.lotesService=c,this.cdr=z,this.lote=null,this.loading=!1,this.loteId=0}ngOnInit(){this.route.params.subscribe(l=>{this.loteId=+l.id,this.loteId&&this.loadLote()})}loadLote(){this.loading=!0,this.lotesService.getLoteById(this.loteId).subscribe({next:l=>{this.lote=l.data||l,this.loading=!1,this.cdr.detectChanges()},error:l=>{this.loading=!1,this.cdr.detectChanges()}})}goBack(){this.router.navigate(["/dashboard/business-dashboard/lotes"])}editLote(){this.router.navigate(["/dashboard/business-dashboard/lotes/edit-lote",this.loteId])}getEstadoBadgeClass(l){switch(l){case"Activo":return"bg-success";case"Inactivo":return"bg-warning";case"Desalojado":return"bg-danger";default:return"bg-secondary"}}};s.\u0275fac=function(r){return new(r||s)(x(F),x(B),x(O),x(V))},s.\u0275cmp=y({type:s,selectors:[["app-view-lote"]],standalone:!0,features:[C],decls:4,vars:9,consts:[[3,"title","title2","class1","path"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12","text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"col-xl-8"],[1,"card","custom-card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"col-md-6"],[1,"mb-3"],[1,"form-label","fw-semibold"],[1,"mb-0"],[1,"badge"],["class","col-12",4,"ngIf"],[1,"col-xl-4"],[1,"col-12"],[1,"mb-3","text-center"],[1,"avatar","avatar-xl","bg-primary-transparent","mx-auto","mb-2"],[1,"fe","fe-layers","fs-24"],[1,"mb-1"],[1,"text-muted","mb-0"],[1,"col-6"],[1,"text-center"],[1,"mb-1","text-success"],[1,"text-muted","mb-0","fs-12"],[1,"mb-1","text-primary"],[1,"d-grid","gap-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"fe","fe-list","me-2"],[1,"btn","btn-success",3,"click"],[1,"fe","fe-edit-2","me-2"],[1,"card-body","text-center","py-5"],[1,"fe","fe-alert-circle","fs-48","text-muted","mb-3"],[1,"text-muted"],[1,"text-muted","small"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary","ms-2",3,"click"]],template:function(r,c){r&1&&(v(0,"app-hr-dashboard-page-header",0),_(1,N,5,0,"div",1)(2,q,95,28,"div",1)(3,G,15,1,"div",1)),r&2&&(f("btn btn-secondary"),m("title","Detalle del Lote")("title2","Volver a Lista")("class1","")("path","/dashboard/business-dashboard/lotes"),a(),m("ngIf",c.loading),a(),m("ngIf",!c.loading&&c.lote),a(),m("ngIf",!c.loading&&!c.lote))},dependencies:[D,k,T,M,A,j,R,P],styles:[".avatar-xl[_ngcontent-%COMP%]{width:4rem;height:4rem}.fs-24[_ngcontent-%COMP%]{font-size:1.5rem}.fs-48[_ngcontent-%COMP%]{font-size:3rem}"]});let o=s;return o})();export{ee as ViewLoteComponent};
