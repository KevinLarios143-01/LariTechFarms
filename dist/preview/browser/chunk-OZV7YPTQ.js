import{a as ee}from"./chunk-WOACAJCU.js";import"./chunk-DFR7G4ST.js";import{a as Z,b as $}from"./chunk-ULXZIRFL.js";import{c as K,n as X}from"./chunk-ZNKMRUWH.js";import"./chunk-XG7TRELF.js";import"./chunk-B56AIWNQ.js";import{r as J}from"./chunk-3DATYCE5.js";import"./chunk-EMEDTLE5.js";import{N as j,O as B,P as L,Q as U,R as Y,T as G,U as z,Y as H,Z as q,ca as Q}from"./chunk-XRHNCSTF.js";import{$b as C,Cb as M,Ib as N,Kb as u,Na as I,Qa as n,Qc as V,Ra as x,Vb as P,Wb as i,Wc as A,Xb as g,Yb as E,Zb as O,ac as _,bc as y,db as S,dc as F,id as R,jb as l,la as w,nb as h,nc as W,pc as D,rb as k,ua as f,va as b,wb as e,xb as t,yb as d,yc as T}from"./chunk-AZAYKVK3.js";import"./chunk-REZWHGN7.js";function te(m,c){m&1&&(e(0,"div",2)(1,"div",5)(2,"span",6),i(3,"Cargando..."),t()()())}function ie(m,c){if(m&1&&(e(0,"div",41)(1,"div",31)(2,"h4",42),i(3,"Informaci\xF3n B\xE1sica"),t(),e(4,"div",43)(5,"div",44)(6,"div",45)(7,"label",46),i(8,"Nombre Completo"),t()(),e(9,"div",47)(10,"div",3)(11,"div",48),d(12,"input",49),e(13,"span",50),i(14,"Nombre"),t()(),e(15,"div",48),d(16,"input",49),e(17,"span",50),i(18,"Apellido"),t()()()()()(),e(19,"div",43)(20,"div",44)(21,"div",45)(22,"label",46),i(23,"Puesto"),t()(),e(24,"div",47),d(25,"input",49),t()()(),e(26,"div",43)(27,"div",44)(28,"div",45)(29,"label",46),i(30,"Tel\xE9fono"),t()(),e(31,"div",47),d(32,"input",49),t()()(),e(33,"div",43)(34,"div",44)(35,"div",45)(36,"label",46),i(37,"Correo Electr\xF3nico"),t()(),e(38,"div",47),d(39,"input",51),t()()(),e(40,"div",43)(41,"div",44)(42,"div",45)(43,"label",46),i(44,"G\xE9nero"),t()(),e(45,"div",47),d(46,"input",49),t()()(),e(47,"div",43)(48,"div",44)(49,"div",45)(50,"label",46),i(51,"Salario"),t()(),e(52,"div",47),d(53,"input",49),t()()(),e(54,"div",43)(55,"div",44)(56,"div",45)(57,"label",46),i(58,"Fecha de Contrataci\xF3n"),t()(),e(59,"div",47),d(60,"input",49),W(61,"date"),t()()(),e(62,"div",43)(63,"div",44)(64,"div",45)(65,"label",46),i(66,"Estado"),t()(),e(67,"div",47)(68,"span",52),i(69),t()()()()()()),m&2){let o=u(2);n(12),l("value",o.empleado.nombre),n(4),l("value",o.empleado.apellido),n(9),l("value",o.empleado.puesto),n(7),l("value",o.empleado.telefono),n(7),l("value",o.empleado.correo),n(7),l("value",o.empleado.genero==="M"?"Masculino":"Femenino"),n(7),l("value",o.getFormattedSalary()),n(7),l("value",D(61,11,o.empleado.fechaContratacion,"dd/MM/yyyy")),n(8),h(o.empleado.activo?"bg-success":"bg-danger"),n(),E(" ",o.empleado.activo?"Activo":"Inactivo"," ")}}function ne(m,c){if(m&1&&(e(0,"div",53)(1,"div",31)(2,"h4",42),i(3,"Estad\xEDsticas del Empleado"),t(),e(4,"div",54)(5,"div",55),d(6,"circle-progress",56),e(7,"h6",57),i(8,"Estado"),t()(),e(9,"div",55),d(10,"circle-progress",56),e(11,"h6",57),i(12,"Experiencia"),t()(),e(13,"div",55),d(14,"circle-progress",56),e(15,"h6",57),i(16,"Pr\xE9stamos"),t()()(),e(17,"div",3)(18,"div",48)(19,"div",58)(20,"div",9)(21,"h5",59),i(22),t(),e(23,"p",60),i(24,"Asistencias Registradas"),t()()()(),e(25,"div",48)(26,"div",58)(27,"div",9)(28,"h5",61),i(29),t(),e(30,"p",60),i(31,"A\xF1os de Servicio"),t()()()()()()()),m&2){let o=u(2);n(6),l("percent",o.empleado.activo?100:0)("radius",40)("space",-5)("outerStrokeWidth",6)("innerStrokeWidth",6)("showInnerStroke",!0)("outerStrokeColor",o.empleado.activo?"#0dcd94":"#dc3545")("innerStrokeColor",o.empleado.activo?"#87e9cb":"#f8d7da")("showUnits",!1)("showSubtitle",!1)("animation",!0)("animationDuration",300),n(4),l("percent",o.getYearsWorked()*10)("radius",40)("space",-5)("outerStrokeWidth",6)("innerStrokeWidth",6)("showInnerStroke",!0)("outerStrokeColor","#3366ff")("innerStrokeColor","#93abf3")("showUnits",!1)("showSubtitle",!1)("animation",!0)("animationDuration",300),n(4),l("percent",((o.empleado._count==null?null:o.empleado._count.prestamos)||0)*25)("radius",40)("space",-5)("outerStrokeWidth",6)("innerStrokeWidth",6)("showInnerStroke",!0)("outerStrokeColor","#fe7f00")("innerStrokeColor","#f7cba0")("showUnits",!1)("showSubtitle",!1)("animation",!0)("animationDuration",300),n(8),g((o.empleado._count==null?null:o.empleado._count.asistencias)||0),n(7),g(o.getYearsWorked())}}function ae(m,c){if(m&1){let o=M();e(0,"div",3)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),d(5,"img",11),t(),e(6,"div",12)(7,"h5",13),i(8),t(),e(9,"h6",14),i(10),t(),e(11,"span",15),i(12),t()(),e(13,"ngb-rating",16),y("rateChange",function(r){f(o);let s=u();return _(s.currentRate,r)||(s.currentRate=r),b(r)}),t()(),e(14,"div",17)(15,"div",18)(16,"div",19)(17,"h5",20),i(18,"Salario"),t(),e(19,"h5",21)(20,"span",22),i(21),t()(),e(22,"h5",23),i(23,"Mensual"),t()(),e(24,"div",24)(25,"h5",20),i(26,"Experiencia"),t(),e(27,"h5",21)(28,"span",25),i(29),t()(),e(30,"h5",23),i(31,"A\xF1os"),t()(),e(32,"div",26)(33,"h5",20),i(34,"Pr\xE9stamos"),t(),e(35,"h5",21)(36,"span",27),i(37),t()(),e(38,"h5",23),i(39,"Activos"),t()()()()(),e(40,"div",28)(41,"div",29)(42,"div",30),i(43,"Acciones"),t()(),e(44,"div",31)(45,"button",32),N("click",function(){f(o);let r=u();return b(r.toggleEmpleadoStatus())}),d(46,"i"),i(47),t()()()(),e(48,"div",33)(49,"div",34)(50,"div",35)(51,"ul",36,0),y("activeIdChange",function(r){f(o);let s=u();return _(s.active,r)||(s.active=r),b(r)}),e(53,"li",37)(54,"a",38),i(55,"Informaci\xF3n Personal"),t(),S(56,ie,70,14,"ng-template",39),t(),e(57,"li",37)(58,"a",38),i(59,"Estad\xEDsticas"),t(),S(60,ne,32,38,"ng-template",39),t()()(),d(61,"div",40),t()()()}if(m&2){let o=P(52),a=u();n(5),l("src",a.empleado.img||"./assets/images/laritechfarms/2.jpg",I),n(3),O("",a.empleado.nombre," ",a.empleado.apellido,""),n(2),g(a.empleado.puesto),n(),h(a.empleado.activo?"bg-success":"bg-danger"),n(),E(" ",a.empleado.activo?"Activo":"Inactivo"," "),n(),C("rate",a.currentRate),l("readonly",!0),n(8),g(a.getFormattedSalary()),n(8),g(a.getYearsWorked()),n(8),g((a.empleado._count==null?null:a.empleado._count.prestamos)||0),n(8),h(a.empleado.activo?"btn-warning":"btn-success"),n(),h(a.empleado.activo?"ri-close-line":"ri-check-line"),n(),E(" ",a.empleado.activo?"Desactivar":"Activar"," Empleado "),n(4),C("activeId",a.active),n(2),l("ngbNavItem",1),n(4),l("ngbNavItem",2),n(4),l("ngbNavOutlet",o)}}function oe(m,c){m&1&&(e(0,"div",4),d(1,"i",62),i(2," No se encontr\xF3 informaci\xF3n del empleado. "),t())}var fe=(()=>{let c=class c{constructor(a,r,s,p,v){this.route=a,this.empleadoService=r,this.toastr=s,this.cdr=p,this.empleado=null,this.loading=!0,this.active=1,this.currentRate=4,v.max=5}ngOnInit(){let a=this.route.snapshot.paramMap.get("id");a&&this.loadEmpleado(+a)}loadEmpleado(a){this.empleadoService.getEmpleadoById(a).subscribe({next:r=>{this.empleado=r.data,this.loading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error loading empleado:",r),this.toastr.error("Error al cargar la informaci\xF3n del empleado"),this.loading=!1,this.cdr.detectChanges()}})}toggleEmpleadoStatus(){if(!this.empleado)return;let a=this.empleado.activo,r=a?"deactivateEmpleado":"activateEmpleado",s=a?"desactivar":"activar";confirm(`\xBFEst\xE1 seguro de que desea ${s} este empleado?`)&&this.empleadoService[r](this.empleado.id).subscribe({next:p=>{this.empleado=p.data;let v=this.empleado.activo?"Empleado activado exitosamente":"Empleado desactivado exitosamente";this.toastr.success(v,"\xC9xito",{timeOut:3e3,positionClass:"toast-top-right"}),this.cdr.detectChanges()},error:p=>{console.error("Error toggling empleado status:",p);let v="Error desconocido";p.error?.message?v=p.error.message:p.error?.error?v=p.error.error:p.message&&(v=p.message),this.toastr.error(`Error al ${s} el empleado: ${v}`,"Error",{timeOut:3e3,positionClass:"toast-top-right"})}})}getYearsWorked(){if(!this.empleado?.fechaContratacion)return 0;let a=new Date(this.empleado.fechaContratacion);return Math.floor((new Date().getTime()-a.getTime())/(1e3*60*60*24*365))}getFormattedSalary(){return this.empleado?.salario?new Intl.NumberFormat("es-GT",{style:"currency",currency:"GTQ"}).format(parseFloat(this.empleado.salario)):"0"}};c.\u0275fac=function(r){return new(r||c)(x(R),x(ee),x(J),x(T),x(H))},c.\u0275cmp=w({type:c,selectors:[["app-ver-empleado"]],standalone:!0,features:[F],decls:4,vars:6,consts:[["nav","ngbNav"],[3,"title","title2","path"],[1,"d-flex","justify-content-center","align-items-center",2,"height","400px"],[1,"row"],["role","alert",1,"alert","alert-warning"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"col-xxl-3","col-md-12","col-lg-12"],[1,"card","box-widget","widget-user","custom-card"],[1,"card-body","text-center"],[1,"widget-user-image","mx-auto","text-center"],["alt","img",1,"avatar","avatar-xxl","avatar-rounded","rounded-circle",3,"src"],[1,"pro-user","mt-3"],[1,"pro-user-username","text-dark","mb-1","fs-16"],[1,"pro-user-desc","text-muted","fs-12","mb-1"],[1,"badge"],[1,"text-warning",3,"rateChange","rate","readonly"],[1,"card-footer","p-0"],[1,"row","mx-0"],[1,"col-4","text-center","py-3","border-end"],[1,"fs-12","fw-medium","mb-3"],[1,"mb-2"],[1,"fs-16","text-success"],[1,"fs-12","mb-0"],[1,"col-4","py-3","text-center","border-end"],[1,"fs-18","text-primary"],[1,"col-4","text-center","py-3"],[1,"fs-18","text-warning"],[1,"card","custom-card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["type","button",1,"btn","w-100","mb-3",3,"click"],[1,"col-xxl-9","col-md-12","col-lg-12"],[1,"tab-menu-heading","hremp-tabs","p-0","border-0"],[1,"tabs-menu1"],["ngbNav","",1,"panel-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"tab-pane","active"],[1,"mb-4","font-weight-bold"],[1,"form-group"],[1,"row","gy-2"],[1,"col-md-3"],[1,"form-label","mb-0","mt-2"],[1,"col-md-9"],[1,"col-md-6"],["type","text","readonly","",1,"form-control",3,"value"],[1,"text-muted"],["type","email","readonly","",1,"form-control",3,"value"],[1,"badge","fs-12"],[1,"tab-pane"],[1,"row","justify-content-evenly","mb-4"],[1,"col-auto","pe-0","text-center"],[1,"chart-circle",3,"percent","radius","space","outerStrokeWidth","innerStrokeWidth","showInnerStroke","outerStrokeColor","innerStrokeColor","showUnits","showSubtitle","animation","animationDuration"],[1,"fs-14","fw-medium","mt-2"],[1,"card","border"],[1,"text-primary"],[1,"mb-0"],[1,"text-success"],[1,"ri-alert-line","me-2"]],template:function(r,s){r&1&&(d(0,"app-hr-dashboard-page-header",1),S(1,te,4,0,"div",2)(2,ae,62,21,"div",3)(3,oe,3,0,"div",4)),r&2&&(h("btn btn-primary"),l("title","Informaci\xF3n del Empleado")("title2","Agregar Nuevo Empleado")("path","/dashboard/hrmdashboards/employees/add-empleado"),n(),k(s.loading?1:s.empleado?2:3))},dependencies:[Q,j,U,L,B,G,Y,z,q,$,Z,X,K,A,V],styles:[".widget-user-image[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border:3px solid #fff;box-shadow:0 2px 10px #0000001a}.pro-user[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.25rem .5rem}.card-footer[_ngcontent-%COMP%]{background-color:#f8f9fa}.card-footer[_ngcontent-%COMP%]   .border-end[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid #dee2e6!important}.form-control[readonly][_ngcontent-%COMP%]{background-color:#f8f9fa;border-color:#e9ecef}.chart-circle[_ngcontent-%COMP%]{margin-bottom:1rem}.tab-pane[_ngcontent-%COMP%]{min-height:400px}.panel-tabs[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.panel-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#6c757d;border:none;padding:1rem 1.5rem}.panel-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#0d6efd;border-bottom:2px solid #0d6efd}.btn[_ngcontent-%COMP%]{transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}"]});let m=c;return m})();export{fe as VerEmpleadoComponent};
