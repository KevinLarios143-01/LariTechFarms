import{a as l}from"./chunk-DFR7G4ST.js";import{$c as s,ea as o,ha as p,r as i}from"./chunk-AZAYKVK3.js";var u=(()=>{let a=class a{constructor(t){this.http=t,this.apiUrl=`${l.apiUrl}/v1`}getCompanies(){return this.http.get(`${this.apiUrl}/tenants`).pipe(i(t=>t.data.data.map(e=>this.mapTenantToCompany(e))))}mapTenantToCompany(t){return{id:t.id_tenant,img:`./assets/images/media/files/company/img${t.id_tenant}.png`,name:t.nombre,email:t.correo,package:"Basic (Monthly)",packageBadge:"Change",registeredBy:new Date(t.fecha_registro).toLocaleDateString(),statusText:t.activo?"Active":"Inactive",status:t.activo?"success":"danger",telefono:t.telefono,direccion:t.direccion,nit:t.nit,activo:t.activo}}deleteCompany(t){return this.http.delete(`${this.apiUrl}/tenants/${t}`).pipe(i(()=>!0))}updateCompany(t){let e={nombre:t.name,correo:t.email,telefono:t.telefono,direccion:t.direccion,nit:t.nit,activo:t.activo};return this.http.put(`${this.apiUrl}/tenants/${t.id}`,e).pipe(i(n=>this.mapTenantToCompany(n)))}createCompany(t){let e={nombre:t.name,correo:t.email,telefono:t.telefono,direccion:t.direccion,nit:t.nit,activo:t.activo??!0};return this.http.post(`${this.apiUrl}/tenants`,e).pipe(i(n=>this.mapTenantToCompany(n)))}getCompanyById(t){return this.http.get(`${this.apiUrl}/tenants/${t}`).pipe(i(e=>this.mapTenantToCompany(e)))}getPlans(){return this.http.get(`${this.apiUrl}/planes`).pipe(i(t=>t.data.data))}createPlan(t){return this.http.post(`${this.apiUrl}/planes`,t)}updatePlan(t){return this.http.put(`${this.apiUrl}/planes/${t.id_plan}`,t)}deletePlan(t){return this.http.delete(`${this.apiUrl}/planes/${t}`).pipe(i(()=>!0))}getPlanById(t){return this.http.get(`${this.apiUrl}/planes/${t}`)}};a.\u0275fac=function(e){return new(e||a)(p(s))},a.\u0275prov=o({token:a,factory:a.\u0275fac,providedIn:"root"});let r=a;return r})();export{u as a};
