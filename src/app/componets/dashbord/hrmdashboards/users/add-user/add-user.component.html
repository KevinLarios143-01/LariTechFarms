<app-hr-dashboard-page-header [title]="'Agregar Usuario'" [title2]="'Volver a Lista'" [class]="'btn btn-secondary'"
  [class1]="''" [path]="'/dashboard/hrmdashboards/users/user-list'">
</app-hr-dashboard-page-header>

<div class="row">
  <div class="col-xl-12">
    <div class="card custom-card">
      <div class="card-header">
        <h3 class="card-title">Información del Usuario</h3>
      </div>
      <div class="card-body">
        <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label class="form-label">Nombre *</label>
                <input type="text" class="form-control" formControlName="nombre" placeholder="Ingrese el nombre">
                @if (userForm.get('nombre')?.invalid && userForm.get('nombre')?.touched) {
                  <div class="invalid-feedback">
                    El nombre es requerido (mínimo 2 caracteres)
                  </div>
                }
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label class="form-label">Apellido *</label>
                <input type="text" class="form-control" formControlName="apellido" placeholder="Ingrese el apellido">
                @if (userForm.get('apellido')?.invalid && userForm.get('apellido')?.touched) {
                  <div class="invalid-feedback">
                    El apellido es requerido (mínimo 2 caracteres)
                  </div>
                }
              </div>
            </div>
          </div>
          
          <div class="row">
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label class="form-label">Email *</label>
                <input type="email" class="form-control" formControlName="email" placeholder="usuario@ejemplo.com">
                @if (userForm.get('email')?.invalid && userForm.get('email')?.touched) {
                  <div class="invalid-feedback">
                    Ingrese un email válido
                  </div>
                }
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label class="form-label">Teléfono *</label>
                <input type="tel" class="form-control" formControlName="telefono" placeholder="+1234567890">
                @if (userForm.get('telefono')?.invalid && userForm.get('telefono')?.touched) {
                  <div class="invalid-feedback">
                    El teléfono es requerido
                  </div>
                }
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label class="form-label">Rol *</label>
                <select class="form-control" formControlName="rol">
                  <option value="">Seleccione un rol</option>
                  <option value="admin">Administrador</option>
                  <option value="user">Usuario</option>
                  <option value="manager">Gerente</option>
                </select>
                @if (userForm.get('rol')?.invalid && userForm.get('rol')?.touched) {
                  <div class="invalid-feedback">
                    Seleccione un rol
                  </div>
                }
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label class="form-label">Estado</label>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" formControlName="activo" id="activo">
                  <label class="form-check-label" for="activo">
                    Usuario Activo
                  </label>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-12">
              <button type="submit" class="btn btn-primary me-2" [disabled]="userForm.invalid">
                Guardar Usuario
              </button>
              <button type="button" class="btn btn-secondary" (click)="onCancel()">
                Cancelar
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>