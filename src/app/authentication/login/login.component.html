<div class="page responsive-log login-bg">
  <div class="page-single">

    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-9 col-lg-7 col-xl-4 col-xxl-4">
          <div class="card custom-card my-4">
            <ul ngbNav #nav="ngbNav" [(activeId)]="active"
              class="nav-tabs  justify-content-center border-bottom-0 mb-2 mt-4">
              <li ngbNavItem="Firebase">
                <a ngbNavLink class="firebase-img">
                  <img src="./assets/images/firebase.svg" class="firebase" alt="" />
                </a>
                <ng-template ngbNavContent class="border-0">
                  <div class="p-4 pt-0 text-center">
                    <h2 class="mb-2">Login</h2>
                    <p class="text-muted mb-0">Inicia sesión en tu cuenta</p>
                  </div>
                  <form class="card-body pb-3" id="firebaseLogin" name="firebaseLogin" [formGroup]="firebaseForm"
                    (ngSubmit)="loginWithFirebase()">
                    @if(errorMessage.length > 0){
                    <p class="text-danger">
                      {{errorMessage}}</p>
                    }
                    @if(_error.message.length > 0){
                    <p class="text-danger">
                      {{_error.message}} </p>
                    }
                    <div class="form-group">
                      <label class="form-label">Email</label>
                      <div class="input-group mb-3">
                        <div class="input-group">
                          <a href="" class="input-group-text">
                            <i class="fe fe-mail" aria-hidden="true"></i>
                          </a>
                          <input class="form-control" autocomplete formControlName="email" required placeholder="Email">
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="form-label">Contraseña</label>
                      <div class="input-group mb-3">
                        <div class="input-group">
                          <span class="input-group-text" (click)="togglePassword()"><i
                              class="fe fe-{{toggleClass}} align-middle"></i></span>
                          <input class="form-control" required [type]="showPassword ? 'text' : 'password'"
                            formControlName="password" autocomplete placeholder="Password">
                        </div>
                      </div>
                    </div>
                    <div class="form-check mb-3">
                      <input class="form-check-input" type="checkbox" value="" id="firebaseCheck">
                      <label class="form-check-label" for="firebaseCheck"> Remember me</label>
                    </div>
                    <div class="submit d-grid gap-2">
                      <button class="btn btn-primary me-0" [disabled]="!firebaseForm.valid || authservice.showLoader"
                        autofocus [class.loader--text]="authservice.showLoader">Login</button>
                      <div class="text-center mt-3">
                        <p class="text-muted mb-2">O inicia sesión con:</p>
                        <button type="button" class="btn btn-outline-danger" (click)="loginWithGoogle()">
                          <i class="ri-google-line me-1"></i> Google
                        </button>
                      </div>
                    </div>
                    <div class="text-center mt-3">
                      <!--p class="mb-2"><a routerLink="/account/forget-password/forget-password01">Forgot Password</a></p>-->
                    </div>
                  </form>
                  <div class="card-body border-top-0 pt-1">
                    <div class="text-center mb-1">
                      <span class="avatar avatar-rounded me-2 bg-primary-transparent text-primary"><i
                          class="ri-facebook-line fs-17"></i></span>
                      <span class="avatar avatar-rounded me-2 bg-primary-transparent text-primary"><i
                          class="ri-instagram-line fs-17"></i></span>
                      <span class="avatar avatar-rounded bg-primary-transparent text-primary"><i
                          class="ri-twitter-x-line fs-17"></i></span>
                    </div>
                  </div>
                </ng-template>
              </li>
              <li ngbNavItem="Angular">
                <a ngbNavLink class="firebase-img">
                  <img src="./assets/images/favicon.svg" class="firebase" alt="" />
                </a>
                <ng-template ngbNavContent class="border-0">
                  <div class="p-4 pt-0 text-center">
                    <h2 class="mb-2">Login</h2>
                    <p class="text-muted mb-0">Inicia sesión en tu cuenta</p>
                  </div>
                  <form class="card-body pb-3" id="backendLogin" name="backendLogin" [formGroup]="loginForm"
                    (ngSubmit)="submitBackend()">
                    <div class="form-group">
                      <label class="form-label">Email</label>
                      <div class="input-group mb-3">
                        <div class="input-group">
                          <a href="" class="input-group-text">
                            <i class="fe fe-mail" aria-hidden="true"></i>
                          </a>
                          <input class="form-control" autocomplete formControlName="username" required
                            placeholder="Email">
                        </div>
                      </div>
                    </div>
                    <div class="form-group">
                      <label class="form-label">Contraseña</label>
                      <div class="input-group mb-3">
                        <div class="input-group">
                          <span class="input-group-text" (click)="togglePassword()"><i
                              class="fe fe-{{toggleClass}} align-middle"></i></span>
                          <input class="form-control" required [type]="showPassword ? 'text' : 'password'"
                            formControlName="password" autocomplete placeholder="Password">
                        </div>
                      </div>
                    </div>
                    <div class="form-check mb-3">
                      <input class="form-check-input" type="checkbox" value="" id="backendCheck">
                      <label class="form-check-label" for="backendCheck"> Remember me</label>
                    </div>
                    <div class="submit d-grid">
                      <button class="btn btn-primary me-0" [disabled]="!loginForm.valid || authservice.showLoader"
                        autofocus [class.loader--text]="authservice.showLoader"> Login </button>
                    </div>
                    <div class="text-center mt-3">
                      <!--<p class="mb-2"><a routerLink="/account/forget-password/forget-password01">Forgot Password</a></p>-->
                    </div>
                  </form>
                  <div class="card-body border-top-0 pt-1">
                    <div class="text-center mb-1">
                      <span class="avatar avatar-rounded me-2 bg-primary-transparent text-primary"><i
                          class="ri-facebook-line fs-17"></i></span>
                      <span class="avatar avatar-rounded me-2 bg-primary-transparent text-primary"><i
                          class="ri-instagram-line fs-17"></i></span>
                      <span class="avatar avatar-rounded bg-primary-transparent text-primary"><i
                          class="ri-twitter-x-line fs-17"></i></span>
                    </div>
                  </div>
                </ng-template>

              </li>
            </ul>

            <div [ngbNavOutlet]="nav"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
